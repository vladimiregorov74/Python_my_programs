<!DOCTYPE html>

<head>
    <meta charset="UTF-8">

    <title>Строчное программирование exec и eval</title>
</head>
<body>
<span style="font-size:26px;"><span style="font-family:arial,helvetica,sans-serif;">
        <a href="./0_Помощь_Python.html">Помощь_Python.html</a></span></span>
  <hr>
    <hr id="a">

        <li><p><a href="#a0"><b>exec()</b></a> </p></li>
        <li><p><a href="#a1"><b>eval()</b></a></p></li>

            </span></span></span>
            <h2>Функция exec()</h2>
            <span style="font-size:20px;"><span style="font-family:arial,helvetica,sans-serif;">
                <p>В Python функция <b>exec()</b> используется для выполнения динамических строковых команд в качестве кода
                    Python. Она позволяет выполнять произвольные фрагменты кода, представленные в виде строк.
                    Формат использования функции <b>exec()</b> выглядит следующим образом:</p>
                <pre >
                    exec(code_string, globals=None, locals=None)
                </pre>

                <p>Здесь <b>code_string</b> представляет собой строку с Python-кодом, который вы хотите выполнить. <b>globals </b>и
                    <b>locals</b> - это словари, которые определяют глобальное и локальное пространства имен, в которых будет
                    выполняться код. Если <b>globals</b> не указан, код будет выполняться в текущем глобальном пространстве
                    имен, а если <b>locals</b> не указан, то в текущем локальном пространстве имен.
                    Вот примеры использования <b>exec()</b>:</p>
                <pre>
                    # Простой пример
                    code_to_execute = 'print("Hello, world!")'
                    exec(code_to_execute)  # Выведет "Hello, world!"

                    # С использованием globals и locals
                    global_var = 10
                    local_var = 5
                    code_to_execute = 'result = global_var + local_var'
                    exec(code_to_execute, globals(), locals())
                    print(result)  # Выведет 15, так как global_var = 10 и local_var = 5

                </pre>
                <p>Однако, следует быть осторожным с использованием <b>exec()</b>, особенно если строки с кодом формируются из
                    пользовательского ввода или не контролируемых источников. Это может представлять уязвимость
                    безопасности, так как неправильно сформированный код может привести к выполнению опасных действий
                    или внедрению злонамеренного кода. Если это возможно, предпочтительнее использовать другие методы
                    выполнения кода, такие как функции или <b>eval()</b>, которые могут предоставлять более строгий контроль
                    над входными данными и их обработкой</p>

               </span></span>
            <h2 id="a1">Функция eval()<a href="#a">Up</a></h2>
        <span style="font-size:20px;"><span style="font-family:arial,helvetica,sans-serif;">
            <p><b>eval()</b> в Python используется для выполнения арифметических, логических и других выражений, представленных
                в виде строки. Она позволяет интерпретировать и вычислить произвольные выражения и возвращать результат.
                Формат использования <b>eval()</b> выглядит следующим образом:</p>
            <pre>
                eval(expression, globals=None, locals=None)

            </pre>
            <p>Здесь expression представляет собой строку с выражением на языке Python, которое вы хотите вычислить.
                <b>globals</b> и <b>locals</b> - это словари, определяющие глобальное и локальное пространства имен, в которых будет
                выполняться выражение. Если <b>globals</b> не указан, выражение будет выполняться в текущем глобальном
                пространстве имен, а если <b>locals</b> не указан, то в текущем локальном пространстве имен.
                Важно отметить, что eval() может выполнять произвольный код, аналогично <b>exec()</b>, и следует использовать
                ее с осторожностью, особенно если строка с выражением формируется из внешних источников, таких как
                пользовательский ввод. Неправильно сформированное выражение может привести к ошибкам или уязвимостям
                безопасности.
                Вот примеры использования <b>eval()</b>:</p>
            <pre>
                x = 10
                y = 5
                z = 7

                expression_to_evaluate = 'x + y - z'
                result = eval(expression_to_evaluate, globals(), locals())
                print(result)  # Выведет 8, так как x = 10, y = 5 и z = 7

            </pre>

            <pre>
                x = eval(input('Введите список через запятую. Например: [1,2,3] '))
                print(type(x), x)  # Выведет <class 'list'> [1, 2, 3]

            </pre>
        <a href="#a">Up</a></h2></span></span>

    </body>
</html>