(()=>{var e,t,n,r,o={3849:(e,t)=>{var n;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var s=o.apply(null,n);s&&e.push(s)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var a in n)r.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},7980:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},3179:(e,t,n)=>{var r=n(6960)("unscopables"),o=Array.prototype;null==o[r]&&n(2506)(o,r,{}),e.exports=function(e){o[r][e]=!0}},8555:(e,t,n)=>{var r=n(5558);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},1783:(e,t,n)=>{var r=n(6443),o=n(2162),i=n(4656);e.exports=function(e){return function(t,n,s){var a,c=r(t),u=o(c.length),l=i(s,u);if(e&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},5769:(e,t,n)=>{var r=n(8349),o=n(6960)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},8349:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},2859:e=>{var t=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=t)},4747:(e,t,n)=>{var r=n(7980);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},9153:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},953:(e,t,n)=>{e.exports=!n(1881)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},5182:(e,t,n)=>{var r=n(5558),o=n(164).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},5831:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},7708:(e,t,n)=>{var r=n(164),o=n(2859),i=n(2506),s=n(7405),a=n(4747),c=function(e,t,n){var u,l,d,p,m=e&c.F,h=e&c.G,f=e&c.S,g=e&c.P,v=e&c.B,y=h?r:f?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?o:o[t]||(o[t]={}),w=b.prototype||(b.prototype={});for(u in h&&(n=t),n)d=((l=!m&&y&&void 0!==y[u])?y:n)[u],p=v&&l?a(d,r):g&&"function"==typeof d?a(Function.call,d):d,y&&s(y,u,d,e&c.U),b[u]!=d&&i(b,u,p),g&&w[u]!=d&&(w[u]=d)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},1881:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},164:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},7342:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},2506:(e,t,n)=>{var r=n(9907),o=n(9497);e.exports=n(953)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},8609:(e,t,n)=>{var r=n(164).document;e.exports=r&&r.documentElement},5138:(e,t,n)=>{e.exports=!n(953)&&!n(1881)((function(){return 7!=Object.defineProperty(n(5182)("div"),"a",{get:function(){return 7}}).a}))},3306:(e,t,n)=>{var r=n(8349);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},5558:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},3221:(e,t,n)=>{"use strict";var r=n(8827),o=n(9497),i=n(5607),s={};n(2506)(s,n(6960)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(s,{next:o(1,n)}),i(e,t+" Iterator")}},5146:(e,t,n)=>{"use strict";var r=n(3600),o=n(7708),i=n(7405),s=n(2506),a=n(1869),c=n(3221),u=n(5607),l=n(3548),d=n(6960)("iterator"),p=!([].keys&&"next"in[].keys()),m="keys",h="values",f=function(){return this};e.exports=function(e,t,n,g,v,y,b){c(n,t,g);var w,S,C,I=function(e){if(!p&&e in k)return k[e];switch(e){case m:case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",_=v==h,O=!1,k=e.prototype,x=k[d]||k["@@iterator"]||v&&k[v],P=x||I(v),T=v?_?I("entries"):P:void 0,D="Array"==t&&k.entries||x;if(D&&(C=l(D.call(new e)))!==Object.prototype&&C.next&&(u(C,E,!0),r||"function"==typeof C[d]||s(C,d,f)),_&&x&&x.name!==h&&(O=!0,P=function(){return x.call(this)}),r&&!b||!p&&!O&&k[d]||s(k,d,P),a[t]=P,a[E]=f,v)if(w={values:_?P:I(h),keys:y?P:I(m),entries:T},b)for(S in w)S in k||i(k,S,w[S]);else o(o.P+o.F*(p||O),t,w);return w}},6491:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},1869:e=>{e.exports={}},3600:e=>{e.exports=!1},8827:(e,t,n)=>{var r=n(8555),o=n(2219),i=n(5831),s=n(2565)("IE_PROTO"),a=function(){},c=function(){var e,t=n(5182)("iframe"),r=i.length;for(t.style.display="none",n(8609).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=r(e),n=new a,a.prototype=null,n[s]=e):n=c(),void 0===t?n:o(n,t)}},9907:(e,t,n)=>{var r=n(8555),o=n(5138),i=n(6303),s=Object.defineProperty;t.f=n(953)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},2219:(e,t,n)=>{var r=n(9907),o=n(8555),i=n(8386);e.exports=n(953)?Object.defineProperties:function(e,t){o(e);for(var n,s=i(t),a=s.length,c=0;a>c;)r.f(e,n=s[c++],t[n]);return e}},3548:(e,t,n)=>{var r=n(7342),o=n(5747),i=n(2565)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},7905:(e,t,n)=>{var r=n(7342),o=n(6443),i=n(1783)(!1),s=n(2565)("IE_PROTO");e.exports=function(e,t){var n,a=o(e),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);for(;t.length>c;)r(a,n=t[c++])&&(~i(u,n)||u.push(n));return u}},8386:(e,t,n)=>{var r=n(7905),o=n(5831);e.exports=Object.keys||function(e){return r(e,o)}},9497:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7405:(e,t,n)=>{var r=n(164),o=n(2506),i=n(7342),s=n(6217)("src"),a="toString",c=Function.toString,u=(""+c).split(a);n(2859).inspectSource=function(e){return c.call(e)},(e.exports=function(e,t,n,a){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(i(n,s)||o(n,s,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:a?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,a,(function(){return"function"==typeof this&&this[s]||c.call(this)}))},5607:(e,t,n)=>{var r=n(9907).f,o=n(7342),i=n(6960)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},2565:(e,t,n)=>{var r=n(7260)("keys"),o=n(6217);e.exports=function(e){return r[e]||(r[e]=o(e))}},7260:(e,t,n)=>{var r=n(2859),o=n(164),i="__core-js_shared__",s=o[i]||(o[i]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(3600)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},3149:(e,t,n)=>{"use strict";var r=n(1881);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},4656:(e,t,n)=>{var r=n(8418),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},8418:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},6443:(e,t,n)=>{var r=n(3306),o=n(9153);e.exports=function(e){return r(o(e))}},2162:(e,t,n)=>{var r=n(8418),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},5747:(e,t,n)=>{var r=n(9153);e.exports=function(e){return Object(r(e))}},6303:(e,t,n)=>{var r=n(5558);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},6217:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},6960:(e,t,n)=>{var r=n(7260)("wks"),o=n(6217),i=n(164).Symbol,s="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=s&&i[e]||(s?i:o)("Symbol."+e))}).store=r},3208:(e,t,n)=>{"use strict";var r=n(3179),o=n(6491),i=n(1869),s=n(6443);e.exports=n(5146)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},7453:(e,t,n)=>{"use strict";var r=n(7708),o=n(7980),i=n(5747),s=n(1881),a=[].sort,c=[1,2,3];r(r.P+r.F*(s((function(){c.sort(void 0)}))||!s((function(){c.sort(null)}))||!n(3149)(a)),"Array",{sort:function(e){return void 0===e?a.call(i(this)):a.call(i(this),o(e))}})},4072:(e,t,n)=>{"use strict";var r=n(5769),o={};o[n(6960)("toStringTag")]="z",o+""!="[object z]"&&n(7405)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},3311:(e,t,n)=>{"use strict";var r=n(7708),o=n(1783)(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(3179)("includes")},5435:(e,t)=>{"use strict";var n={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),r=function(){};window.addEventListener("testPassiveEventSupport",r,t),window.removeEventListener("testPassiveEventSupport",r,t),n.hasSupport=e}}};n.update(),t.Z=n},63:(e,t,n)=>{"use strict";var r=n(9415),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return r.isMemo(e)?s:a[e.$$typeof]||o}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=m(n);o&&o!==h&&e(t,o,r)}var s=l(n);d&&(s=s.concat(d(n)));for(var a=c(t),f=c(n),g=0;g<s.length;++g){var v=s[g];if(!(i[v]||r&&r[v]||f&&f[v]||a&&a[v])){var y=p(n,v);try{u(t,v,y)}catch(e){}}}}return t}},1700:e=>{"use strict";e.exports=function(e,t,n,r,o,i,s,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,s,a],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},481:(e,t,n)=>{var r,o;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var s=window.Cookies,a=window.Cookies=i();a.noConflict=function(){return window.Cookies=s,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,o,i){var s;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},r.defaults,i)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}i.expires=i.expires?i.expires.toUTCString():"";try{s=JSON.stringify(o),/^[\{\[]/.test(s)&&(o=s)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u]));return document.cookie=t+"="+o+c}t||(s={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,p=0;p<l.length;p++){var m=l[p].split("="),h=m.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var f=m[0].replace(d,decodeURIComponent);if(h=n.read?n.read(h,f):n(h,f)||h.replace(d,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===f){s=h;break}t||(s[f]=h)}catch(e){}}return s}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}((function(){}))}))},9800:(e,t,n)=>{var r,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var s=window.Cookies,a=window.Cookies=i();a.noConflict=function(){return window.Cookies=s,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in i)i[c]&&(a+="; "+c,!0!==i[c]&&(a+="="+i[c].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],s=0;s<i.length;s++){var a=i[s].split("="),c=a.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(a[0]);if(c=(r.read||r)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(o[u]=c,e===u)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return s(e,!1)},o.getJSON=function(e){return s(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},6969:(e,t,n)=>{var r=n(1846).Symbol;e.exports=r},6684:(e,t,n)=>{var r=n(6969),o=n(2470),i=n(9842),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):i(e)}},6815:e=>{var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},2470:(e,t,n)=>{var r=n(6969),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var o=s.call(e);return r&&(t?e[a]=n:delete e[a]),o}},9842:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},1846:(e,t,n)=>{var r=n(6815),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},2705:(e,t,n)=>{var r=n(7230),o=n(8612),i=n(5089),s=Math.max,a=Math.min;e.exports=function(e,t,n){var c,u,l,d,p,m,h=0,f=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=c,r=u;return c=u=void 0,h=t,d=e.apply(r,n)}function b(e){return h=e,p=setTimeout(S,t),f?y(e):d}function w(e){var n=e-m;return void 0===m||n>=t||n<0||g&&e-h>=l}function S(){var e=o();if(w(e))return C(e);p=setTimeout(S,function(e){var n=t-(e-m);return g?a(n,l-(e-h)):n}(e))}function C(e){return p=void 0,v&&c?y(e):(c=u=void 0,d)}function I(){var e=o(),n=w(e);if(c=arguments,u=this,m=e,n){if(void 0===p)return b(m);if(g)return p=setTimeout(S,t),y(m)}return void 0===p&&(p=setTimeout(S,t)),d}return t=i(t)||0,r(n)&&(f=!!n.leading,l=(g="maxWait"in n)?s(i(n.maxWait)||0,t):l,v="trailing"in n?!!n.trailing:v),I.cancel=function(){void 0!==p&&clearTimeout(p),h=0,c=m=u=p=void 0},I.flush=function(){return void 0===p?d:C(o())},I}},7230:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},8539:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},6031:(e,t,n)=>{var r=n(6684),o=n(8539);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},8612:(e,t,n)=>{var r=n(1846);e.exports=function(){return r.Date.now()}},3460:(e,t,n)=>{var r=n(2705),o=n(7230);e.exports=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:i,maxWait:t,trailing:s})}},5089:(e,t,n)=>{var r=n(7230),o=n(6031),i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=a.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):s.test(e)?NaN:+e}},8277:(e,t,n)=>{"use strict";var r=n(3147);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},9480:(e,t,n)=>{e.exports=n(8277)()},3147:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4507:(e,t)=>{"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,f=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function S(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case i:case a:case s:case m:return e;default:switch(e=e&&e.$$typeof){case u:case p:case g:case f:case c:return e;default:return t}}case o:return t}}}function C(e){return S(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Lazy=g,t.Memo=f,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=m,t.isAsyncMode=function(e){return C(e)||S(e)===l},t.isConcurrentMode=C,t.isContextConsumer=function(e){return S(e)===u},t.isContextProvider=function(e){return S(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return S(e)===p},t.isFragment=function(e){return S(e)===i},t.isLazy=function(e){return S(e)===g},t.isMemo=function(e){return S(e)===f},t.isPortal=function(e){return S(e)===o},t.isProfiler=function(e){return S(e)===a},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===m},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===a||e===s||e===m||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===f||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=S},9415:(e,t,n)=>{"use strict";e.exports=n(4507)},3433:(e,t,n)=>{"use strict";n.d(t,{zt:()=>h,wU:()=>T,I0:()=>ie,v9:()=>ce,oR:()=>oe});var r=n(7363),o=n.n(r),i=n(9480),s=n.n(i),a=o().createContext(null);var c=function(e){e()},u=function(){return c},l=null,d={notify:function(){}};var p=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=d,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=u(),t=[],n=[];return{clear:function(){n=l,t=l},notify:function(){var r=t=n;e((function(){for(var e=0;e<r.length;e++)r[e]()}))},get:function(){return n},subscribe:function(e){var r=!0;return n===t&&(n=t.slice()),n.push(e),function(){r&&t!==l&&(r=!1,n===t&&(n=t.slice()),n.splice(n.indexOf(e),1))}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=d)},e}();function m(e){var t=e.store,n=e.context,i=e.children,s=(0,r.useMemo)((function(){var e=new p(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),c=(0,r.useMemo)((function(){return t.getState()}),[t]);(0,r.useEffect)((function(){var e=s.subscription;return e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,c]);var u=n||a;return o().createElement(u.Provider,{value:s},i)}m.propTypes={store:s().shape({subscribe:s().func.isRequired,dispatch:s().func.isRequired,getState:s().func.isRequired}),context:s().object,children:s().any};const h=m;var f=n(4642),g=n(3949),v=n(63),y=n.n(v),b=n(1700),w=n.n(b),S=n(9415),C="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect,I=[],E=[null,null];function _(e,t){var n=e[1];return[t.payload,n+1]}var O=function(){return[null,0]};function k(e,t){void 0===t&&(t={});var n=t,i=n.getDisplayName,s=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,c=n.methodName,u=void 0===c?"connectAdvanced":c,l=n.renderCountProp,d=void 0===l?void 0:l,m=n.shouldHandleStateChanges,h=void 0===m||m,v=n.storeKey,b=void 0===v?"store":v,k=n.withRef,x=void 0!==k&&k,P=n.forwardRef,T=void 0!==P&&P,D=n.context,R=void 0===D?a:D,A=(0,g.Z)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);w()(void 0===d,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),w()(!x,"withRef is removed. To access the wrapped instance, use a ref on the connected component");w()("store"===b,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var j=R;return function(t){var n=t.displayName||t.name||"Component",i=s(n),a=(0,f.Z)({},A,{getDisplayName:s,methodName:u,renderCountProp:d,shouldHandleStateChanges:h,storeKey:b,displayName:i,wrappedComponentName:n,WrappedComponent:t}),c=A.pure;var l=c?r.useMemo:function(e){return e()};function m(n){var s=(0,r.useMemo)((function(){var e=n.forwardedRef,t=(0,g.Z)(n,["forwardedRef"]);return[n.context,e,t]}),[n]),c=s[0],u=s[1],d=s[2],m=(0,r.useMemo)((function(){return c&&c.Consumer&&(0,S.isContextConsumer)(o().createElement(c.Consumer,null))?c:j}),[c,j]),v=(0,r.useContext)(m),y=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch),b=Boolean(v)&&Boolean(v.store);w()(y||b,'Could not find "store" in the context of "'+i+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+i+" in connect options.");var k=y?n.store:v.store,x=(0,r.useMemo)((function(){return function(t){return e(t.dispatch,a)}(k)}),[k]),P=(0,r.useMemo)((function(){if(!h)return E;var e=new p(k,y?null:v.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[k,y,v]),T=P[0],D=P[1],R=(0,r.useMemo)((function(){return y?v:(0,f.Z)({},v,{subscription:T})}),[y,v,T]),A=(0,r.useReducer)(_,I,O),N=A[0][0],M=A[1];if(N&&N.error)throw N.error;var L=(0,r.useRef)(),U=(0,r.useRef)(d),B=(0,r.useRef)(),z=(0,r.useRef)(!1),H=l((function(){return B.current&&d===U.current?B.current:x(k.getState(),d)}),[k,N,d]);C((function(){U.current=d,L.current=H,z.current=!1,B.current&&(B.current=null,D())})),C((function(){if(h){var e=!1,t=null,n=function(){if(!e){var n,r,o=k.getState();try{n=x(o,U.current)}catch(e){r=e,t=e}r||(t=null),n===L.current?z.current||D():(L.current=n,B.current=n,z.current=!0,M({type:"STORE_UPDATED",payload:{error:r}}))}};T.onStateChange=n,T.trySubscribe(),n();return function(){if(e=!0,T.tryUnsubscribe(),T.onStateChange=null,t)throw t}}}),[k,T,x]);var F=(0,r.useMemo)((function(){return o().createElement(t,(0,f.Z)({},H,{ref:u}))}),[u,t,H]);return(0,r.useMemo)((function(){return h?o().createElement(m.Provider,{value:R},F):F}),[m,F,R])}var v=c?o().memo(m):m;if(v.WrappedComponent=t,v.displayName=i,T){var k=o().forwardRef((function(e,t){return o().createElement(v,(0,f.Z)({},e,{forwardedRef:t}))}));return k.displayName=i,k.WrappedComponent=t,y()(k,t)}return y()(v,t)}}var x=Object.prototype.hasOwnProperty;function P(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function T(e,t){if(P(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!x.call(t,n[o])||!P(e[n[o]],t[n[o]]))return!1;return!0}var D=n(1441);function R(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function A(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function j(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=A(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=A(o),o=r(t,n)),o},r}}const N=[function(e){return"function"==typeof e?j(e):void 0},function(e){return e?void 0:R((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?R((function(t){return(0,D.DE)(e,t)})):void 0}];const M=[function(e){return"function"==typeof e?j(e):void 0},function(e){return e?void 0:R((function(){return{}}))}];function L(e,t,n){return(0,f.Z)({},n,{},e,{},t)}const U=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,s=!1;return function(t,n,a){var c=e(t,n,a);return s?o&&i(c,r)||(r=c):(s=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return L}}];function B(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function z(e,t,n,r,o){var i,s,a,c,u,l=o.areStatesEqual,d=o.areOwnPropsEqual,p=o.areStatePropsEqual,m=!1;function h(o,m){var h,f,g=!d(m,s),v=!l(o,i);return i=o,s=m,g&&v?(a=e(i,s),t.dependsOnOwnProps&&(c=t(r,s)),u=n(a,c,s)):g?(e.dependsOnOwnProps&&(a=e(i,s)),t.dependsOnOwnProps&&(c=t(r,s)),u=n(a,c,s)):v?(h=e(i,s),f=!p(h,a),a=h,f&&(u=n(a,c,s)),u):u}return function(o,l){return m?h(o,l):(a=e(i=o,s=l),c=t(r,s),u=n(a,c,s),m=!0,u)}}function H(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=(0,g.Z)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),s=n(e,i),a=r(e,i),c=o(e,i);return(i.pure?z:B)(s,a,c,e,i)}function F(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function $(e,t){return e===t}Y=(X=void 0===W?{}:W).connectHOC,q=void 0===Y?k:Y,Z=X.mapStateToPropsFactories,G=void 0===Z?M:Z,V=X.mapDispatchToPropsFactories,K=void 0===V?N:V,J=X.mergePropsFactories,Q=void 0===J?U:J,ee=X.selectorFactory,te=void 0===ee?H:ee;var W,X,Y,q,Z,G,V,K,J,Q,ee,te;function ne(){var e=(0,r.useContext)(a);return w()(e,"could not find react-redux context value; please ensure the component is wrapped in a <Provider>"),e}function re(e){void 0===e&&(e=a);var t=e===a?ne:function(){return(0,r.useContext)(e)};return function(){return t().store}}var oe=re();var ie=function(e){void 0===e&&(e=a);var t=e===a?oe:re(e);return function(){return t().dispatch}}(),se=function(e,t){return e===t};var ae,ce=function(e){void 0===e&&(e=a);var t=e===a?ne:function(){return(0,r.useContext)(e)};return function(e,n){void 0===n&&(n=se),w()(e,"You must pass a selector to useSelectors");var o=t();return function(e,t,n,o){var i,s=(0,r.useReducer)((function(e){return e+1}),0)[1],a=(0,r.useMemo)((function(){return new p(n,o)}),[n,o]),c=(0,r.useRef)(),u=(0,r.useRef)(),l=(0,r.useRef)();try{i=e!==u.current||c.current?e(n.getState()):l.current}catch(e){var d="An error occurred while selecting the store state: "+e.message+".";throw c.current&&(d+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\nOriginal stack trace:"),new Error(d)}return C((function(){u.current=e,l.current=i,c.current=void 0})),C((function(){function e(){try{var e=u.current(n.getState());if(t(e,l.current))return;l.current=e}catch(e){c.current=e}s({})}return a.onStateChange=e,a.trySubscribe(),e(),function(){return a.tryUnsubscribe()}}),[n,a]),i}(e,n,o.store,o.subscription)}}(),ue=n(1533);ae=ue.unstable_batchedUpdates,c=ae},9649:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7363);function o(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e})),t.current}},7950:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7363),o=n(7333);const i=function(e){var t=(0,r.useRef)(e);t.current=e,(0,o.Z)((function(){return function(){return t.current()}}))}},1441:(e,t,n)=>{"use strict";n.d(t,{md:()=>g,DE:()=>d,UY:()=>u,qC:()=>f,MT:()=>a});var r=n(8817),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function s(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function a(e,t,n){var o;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,u=t,l=[],d=l,p=!1;function m(){d===l&&(d=l.slice())}function h(){if(p)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function f(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(p)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return m(),d.push(e),function(){if(t){if(p)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,m();var n=d.indexOf(e);d.splice(n,1),l=null}}}function g(e){if(!s(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,u=c(u,e)}finally{p=!1}for(var t=l=d,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,g({type:i.REPLACE})}function y(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[r.Z]=function(){return this},e}return g({type:i.INIT}),(o={dispatch:g,subscribe:f,getState:h,replaceReducer:v})[r.Z]=y,o}function c(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var s,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:i.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:i.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+i.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){s=e}return function(e,t){if(void 0===e&&(e={}),s)throw s;for(var r=!1,o={},i=0;i<a.length;i++){var u=a[i],l=n[u],d=e[u],p=l(d,t);if(void 0===p){var m=c(u,t);throw new Error(m)}o[u]=p,r=r||p!==d}return(r=r||a.length!==Object.keys(e).length)?o:e}}function l(e,t){return function(){return t(e.apply(this,arguments))}}function d(e,t){if("function"==typeof e)return l(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=l(o,t))}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return h({},n,{dispatch:r=f.apply(void 0,i)(n.dispatch)})}}}},3242:function(e){var t;t=function(){"use strict";var e=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};function t(e,t){return e(t={exports:{}},t.exports),t.exports}e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))},"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var n=t((function(e,t){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function n(n,r){return r&&!0===r.clone&&e(n)?i(t(n),n,r):n}function r(t,r,o){var s=t.slice();return r.forEach((function(r,a){void 0===s[a]?s[a]=n(r,o):e(r)?s[a]=i(t[a],r,o):-1===t.indexOf(r)&&s.push(n(r,o))})),s}function o(t,r,o){var s={};return e(t)&&Object.keys(t).forEach((function(e){s[e]=n(t[e],o)})),Object.keys(r).forEach((function(a){e(r[a])&&t[a]?s[a]=i(t[a],r[a],o):s[a]=n(r[a],o)})),s}function i(e,t,i){var s=Array.isArray(t),a=(i||{arrayMerge:r}).arrayMerge||r;return s?Array.isArray(e)?a(e,t,i):n(t,i):o(e,t,i)}return i.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return i(e,n,t)}))},i}()})),r=t((function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default})),o=r.svg,i=r.xlink,s={};s[o.name]=o.uri,s[i.name]=i.uri;var a=function(e,t){void 0===e&&(e="");var r=function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(n(s,t||{}));return"<svg "+r+">"+e+"</svg>"},c=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}(a(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(e);return c},e.exports=t()},2508:function(e){var t;t=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var t=e((function(e,t){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function n(n,r){return r&&!0===r.clone&&e(n)?i(t(n),n,r):n}function r(t,r,o){var s=t.slice();return r.forEach((function(r,a){void 0===s[a]?s[a]=n(r,o):e(r)?s[a]=i(t[a],r,o):-1===t.indexOf(r)&&s.push(n(r,o))})),s}function o(t,r,o){var s={};return e(t)&&Object.keys(t).forEach((function(e){s[e]=n(t[e],o)})),Object.keys(r).forEach((function(a){e(r[a])&&t[a]?s[a]=i(t[a],r[a],o):s[a]=n(r[a],o)})),s}function i(e,t,i){var s=Array.isArray(t),a=(i||{arrayMerge:r}).arrayMerge||r;return s?Array.isArray(e)?a(e,t,i):n(t,i):o(e,t,i)}return i.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return i(e,n,t)}))},i}()})),n=e((function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default})),r=n.svg,o=n.xlink,i={};i[r.name]=r.uri,i[o.name]=o.uri;var s,a=function(e,n){void 0===e&&(e="");var r=function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(t(i,n||{}));return"<svg "+r+">"+e+"</svg>"},c=n.svg,u=n.xlink,l={attrs:(s={style:["position: absolute","width: 0","height: 0"].join("; ")},s[c.name]=c.uri,s[u.name]=u.uri,s)},d=function(e){this.config=t(l,e||{}),this.symbols=[]};d.prototype.add=function(e){var t=this.symbols,n=this.find(e.id);return n?(t[t.indexOf(n)]=e,!1):(t.push(e),!0)},d.prototype.remove=function(e){var t=this.symbols,n=this.find(e);return!!n&&(t.splice(t.indexOf(n),1),n.destroy(),!0)},d.prototype.find=function(e){return this.symbols.filter((function(t){return t.id===e}))[0]||null},d.prototype.has=function(e){return null!==this.find(e)},d.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map((function(e){return e.stringify()})).join("");return a(t,e)},d.prototype.toString=function(){return this.stringify()},d.prototype.destroy=function(){this.symbols.forEach((function(e){return e.destroy()}))};var p=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};p.prototype.stringify=function(){return this.content},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var m=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},h=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return m(a(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(p),f={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},g=function(e){return Array.prototype.slice.call(e,0)},v=navigator.userAgent,y={isChrome:/chrome/i.test(v),isFirefox:/firefox/i.test(v),isIE:/msie/i.test(v)||/trident/i.test(v),isEdge:/edge/i.test(v)},b=function(e){return(e||window.location.href).split("#")[0]},w=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",(function(t,n,r){var o,i,s;o=e,i={oldUrl:r,newUrl:n},(s=document.createEvent("CustomEvent")).initCustomEvent(o,!1,!1,i),window.dispatchEvent(s)}))}])},S=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern"),g(e.querySelectorAll("symbol")).forEach((function(e){g(e.querySelectorAll(t)).forEach((function(t){e.parentNode.insertBefore(t,e)}))})),e},C=n.xlink.uri,I="xlink:href",E=/[{}|\\\^\[\]`"<>]/g;function _(e){return e.replace(E,(function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()}))}var O,k=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],x=k.map((function(e){return"["+e+"]"})).join(","),P=function(e,t,n,r){var o=_(n),i=_(r),s=function(e,t){return g(e).reduce((function(e,n){if(!n.attributes)return e;var r=g(n.attributes),o=t?r.filter(t):r;return e.concat(o)}),[])}(e.querySelectorAll(x),(function(e){var t=e.localName,n=e.value;return-1!==k.indexOf(t)&&-1!==n.indexOf("url("+o)}));s.forEach((function(e){return e.value=e.value.replace(o,i)})),function(e,t,n){g(e).forEach((function(e){var r=e.getAttribute(I);if(r&&0===r.indexOf(t)){var o=r.replace(t,n);e.setAttributeNS(C,I,o)}}))}(t,o,i)},T="mount",D="symbol_mount",R=function(e){function n(n){var r=this;void 0===n&&(n={}),e.call(this,t(f,n));var o,i=(o=o||Object.create(null),{on:function(e,t){(o[e]||(o[e]=[])).push(t)},off:function(e,t){o[e]&&o[e].splice(o[e].indexOf(t)>>>0,1)},emit:function(e,t){(o[e]||[]).map((function(e){e(t)})),(o["*"]||[]).map((function(n){n(e,t)}))}});this._emitter=i,this.node=null;var s=this.config;if(s.autoConfigure&&this._autoConfigure(n),s.syncUrlsWithBaseTag){var a=document.getElementsByTagName("base")[0].getAttribute("href");i.on(T,(function(){return r.updateUrls("#",a)}))}var c=this._handleLocationChange.bind(this);this._handleLocationChange=c,s.listenLocationChangeEvent&&window.addEventListener(s.locationChangeEvent,c),s.locationChangeAngularEmitter&&w(s.locationChangeEvent),i.on(T,(function(e){s.moveGradientsOutsideSymbol&&S(e)})),i.on(D,(function(e){var t;s.moveGradientsOutsideSymbol&&S(e.parentNode),(y.isIE||y.isEdge)&&(t=[],g(e.querySelectorAll("style")).forEach((function(e){e.textContent+="",t.push(e)})))}))}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},n.prototype._autoConfigure=function(e){var t=this.config;void 0===e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter="angular"in window),void 0===e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=y.isFirefox)},n.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,r=t.newUrl;this.updateUrls(n,r)},n.prototype.add=function(t){var n=e.prototype.add.call(this,t);return this.isMounted&&n&&(t.mount(this.node),this._emitter.emit(D,t.node)),n},n.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e;return n.node=r,this.symbols.forEach((function(e){e.mount(n.node),t._emitter.emit(D,e.node)})),g(r.querySelectorAll("symbol")).forEach((function(e){var t=h.createFromExistingNode(e);t.node=e,n.add(t)})),this._emitter.emit(T,r),r},n.prototype.destroy=function(){var e=this,t=e.config,n=e.symbols,r=e._emitter;n.forEach((function(e){return e.destroy()})),r.off("*"),window.removeEventListener(t.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},n.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);var n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e,o=n.render();return this.node=o,t&&r.childNodes[0]?r.insertBefore(o,r.childNodes[0]):r.appendChild(o),this._emitter.emit(T,o),o},n.prototype.render=function(){return m(this.stringify())},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},n.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return P(this.node,n,b(e)+"#",b(t)+"#"),!0},Object.defineProperties(n.prototype,r),n}(d),A=e((function(e){var t,n,r,o,i,s;e.exports=(n=[],r=document,o=r.documentElement.doScroll,i="DOMContentLoaded",(s=(o?/^loaded|^c/:/^loaded|^i|^c/).test(r.readyState))||r.addEventListener(i,t=function(){for(r.removeEventListener(i,t),s=1;t=n.shift();)t()}),function(e){s?setTimeout(e,0):n.push(e)})})),j="__SVG_SPRITE_NODE__";window.__SVG_SPRITE__?O=window.__SVG_SPRITE__:(O=new R({attrs:{id:j}}),window.__SVG_SPRITE__=O);var N=function(){var e=document.getElementById(j);e?O.attach(e):O.mount(document.body,!0)};return document.body?N():A(N),O},e.exports=t()},8817:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),e=n.hmd(e);const r=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:e)},6799:()=>{},9976:(e,t,n)=>{"use strict";n.d(t,{jW:()=>s,vo:()=>a});var r=n(8298),o=n(698);const i=(0,r.N)({url:"/api/v4/launcher/stats/bulk",sendBeaconOnUnload:!0}),s=e=>i.configure(e),a=async(e,t,n)=>{let{maxHold:r}=n;return i(e,t,{maxHold:r}).catch((e=>{o.kg.error(e)}))}},8298:(e,t,n)=>{"use strict";n.d(t,{N:()=>S});n(4072);var r=n(456),o=n(1760);class i extends Error{constructor(e,t,n){super(e),this.name="ZenError",(0,o.mM)(t)&&(this.zenLoggerContext=t),(0,o.z7)(n)&&(this.cause=n)}}let s;!function(e){e.server="server",e.offline="offline",e.timeout="timeout",e.other="other"}(s||(s={}));class a extends i{constructor(e,t,n){var r;const{host:o,pathname:i,search:c,hash:u,searchParams:l}=new URL(t,"https://x"),d=`${e.toUpperCase()} ${a.replaceId(i)}`,p=i+c+u,m=p.length>200?`${p.slice(0,197)}...`:p,h=null!=(r=l.get("clientRid"))?r:void 0;super(`Error from API: ${d}`,{method:e,additional:{handleId:d,fullPath:m,clientRid:h}},n),this.handleId=d,this.method=e,this.host="x"===o?"no host":o,this.fullPath=m,this.path=i,this.nativeError=n,this.clientRid=h,this.errorType=s.other}}a.replaceId=e=>e.replace(/comments\/\d{4,}/,"comments/{commentId}").replace(/([/\-_]|^)[0-9a-f]{24}([/\-_]|$)/g,"$1{ObjectId}$2"),a.Unexpected=class extends a{constructor(e,t,n){super(e,t,n),this.message="Unexpected from API"}},a.NetworkBase=class extends a{constructor(e,t,n){super(e,t,n),this.fromTransport=!0}},a.Network=class extends a.NetworkBase{constructor(e,t,n){super(e,t,n)}},a.Offline=class extends a.NetworkBase{constructor(e,t,n){super(e,t,n),this.message="Navigator Offline",this.errorType=s.offline}},a.Timeout=class extends a.NetworkBase{constructor(e,t,n){super(e,t),this.timeout=n,this.errorType=s.timeout}},a.Abort=class extends a.NetworkBase{constructor(e,t,n){super(e,t),this.reason=n}},a.ResponseBase=class extends a{constructor(e,t,n,i){var s,a;super(e,t,i),this.fromResponse=!0,this.getResponse=()=>this.response.clone(),this.status=n.status,this.statusText=n.statusText,this.responseType=n.type,this.response=n,this.message=`Error from API: ${this.handleId} (${this.status})`,s=this,a={additional:{status:n.status,responseType:n.type}},(0,o.z7)(s)&&(0,o.mM)(a)&&(s.zenLoggerContext=(0,r.N)(s.zenLoggerContext,a))}},a.Not2xx=class extends a.ResponseBase{constructor(e,t,n){super(e,t,n),this.errorType=s.server}},a.Parsing=class extends a.ResponseBase{constructor(e,t,n,r){super(e,t,n,r),this.message=`Parsing API response: ${this.handleId} ${this.status} (${this.statusText})`}};var c=n(3949);n(3208);const u={json:"application/json",text:"text/*",blob:"*/*"},l=(e,t)=>Object.entries(t).reduce(((e,t)=>{let[n,r]=t;return Array.isArray(r)?r.forEach(((t,r)=>{void 0!==t&&(r?e.searchParams.append(n,`${t}`):e.searchParams.set(n,`${t}`))})):void 0!==r&&e.searchParams.set(n,`${r}`),e}),new URL(e)),d=()=>{let e=()=>{},t=()=>{};const n=new Promise(((n,r)=>{e=()=>n(),t=e=>r(e)}));return Object.assign(n,{resolve:e,reject:t})},p=!("undefined"!=typeof window&&window.document),m=["timeout","retry","retryDelay","checkRetryNeeded","assertResponse","shouldAbortRequestByTimeout"],h=2e4,f=["method","responseType","parser","parameters","headers","origin"],g="json",v=async(e,t)=>{const{method:n="GET",responseType:r=g,parser:o,parameters:i={},headers:s={},origin:d}=t,p=(0,c.Z)(t,f),v={method:n,urlObject:l(new URL(e,d),i),headers:Object.assign({},s,{accept:u[r]}),body:void 0};if(t.json)v.body=JSON.stringify(t.json),v.headers["content-type"]="application/json";else if(t.formData){const e=new FormData;Object.entries(t.formData).forEach((t=>{let[n,r]=t;Array.isArray(r)?r.forEach((t=>e.append(n,t))):void 0!==r&&e.append(n,r)})),v.body=e}const y=await async function(e,t){let n=void 0===t?{method:"GET"}:t,{timeout:r=h,retry:o=0,retryDelay:i=0,checkRetryNeeded:s=(()=>!0),assertResponse:u=(()=>{}),shouldAbortRequestByTimeout:l=!1}=n,d=(0,c.Z)(n,m);const p=async()=>{let t=()=>{};const n="undefined"!=typeof window&&window.AbortController&&l?new AbortController:null,o=await Promise.race([new Promise(((o,i)=>{if(r<=0)return;const s=setTimeout((()=>{n&&n.abort(),i(new a.Timeout(d.method,e,r))}),r);t=()=>clearTimeout(s)})),fetch(e,Object.assign({signal:n&&n.signal},d)).catch((t=>{var o;return"undefined"!=typeof window&&!1===(null==(o=window.navigator)?void 0:o.onLine)?Promise.reject(new a.Offline(d.method,e,t)):(n&&n.signal.aborted&&Promise.reject(new a.Timeout(d.method,e,r)),Promise.reject(new a.Network(d.method,e,t)))}))]);return t(),await u([e,d],o.clone()),o};let f=o,g=null;do{try{return await p()}catch(e){if(g=e,!(e instanceof a.ResponseBase))break;if(await s(e,f-o)){i>0&&await new Promise((e=>{setTimeout(e,i)}));continue}break}}while(--f>0);throw g}(v.urlObject.href,Object.assign({},p,{method:n,body:v.body,headers:(b=v.headers,Object.entries(b).filter((e=>"string"==typeof e[1])).reduce(((e,t)=>{let[n,r]=t;return e[n]=r,e}),{}))}));var b;if(!y.ok)throw new a.Not2xx(n,v.urlObject.href,y);let w;try{"json"===r?w=await y.clone().json():"text"===r?w=await y.clone().text():"blob"===r&&(w=await y.clone().blob()),o&&(w=await o(w))}catch(e){throw new a.Parsing(n,v.urlObject.href,y,e instanceof Error?e:new Error(String(e)))}return{data:w,headers:Array.from(y.headers.entries()).reduce(((e,t)=>{let[n,r]=t;return e[n]=r,e}),{})}};n(3311);var y=n(698);const b=(e,t)=>(fetch(e,{method:"POST",keepalive:!0,body:t,mode:"cors",credentials:"include"}).catch((e=>{y.kg.error(e,{additional:{fromSendBeaconFetchFallback:!0}})})),!0),w=e=>{var t,n,r,o,i,s,c,u;let m={url:e.url,origin:null!=(t=e.origin)?t:"undefined"==typeof document?"":document.location.origin,parameters:null!=(n=e.parameters)?n:{},maxHoldMs:null!=(r=e.maxHoldMs)?r:3e3,maxBatchSize:null!=(o=e.maxBatchSize)?o:100,sendBeaconOnUnload:null!=(i=e.sendBeaconOnUnload)&&i,shouldAbortRequestByTimeout:null!=(s=e.shouldAbortRequestByTimeout)&&s,api:null!=(c=e.api)?c:v,jsonGenerator:null!=(u=e.jsonGenerator)?u:e=>({events:e})};const h={retryTrackCount:0,batch:[],deadLine:1/0,clearTimeout:()=>{},requestsCount:0,isSending:!1,outputPromise:d()},f=()=>{if(h.clearTimeout(),!h.batch.length)return Promise.resolve();if(h.deadLine===1/0)return h.outputPromise;const e=h.deadLine-Date.now();if(e<=0)return y();const t=setTimeout((()=>y()),e);return h.clearTimeout=()=>clearTimeout(t),h.outputPromise},g=e=>{if(h.batch=h.batch.concat(e),h.batch.length>m.maxBatchSize)h.deadLine=-1/0;else{const t=e.reduce(((e,t)=>{let{deadLine:n}=t;return Math.min(e,n)}),1/0);h.deadLine=Math.min(h.deadLine,t)}return f()},y=async function(e){let{useBeacon:t=!1}=void 0===e?{}:e;if(""===m.url||""===m.origin)return void console.warn("bulkStat: url or origin not configured");const{outputPromise:n}=h,r=h.batch.splice(0);h.outputPromise=d(),h.deadLine=1/0,h.clearTimeout(),h.isSending=!0;const o=m.jsonGenerator(r.map((e=>e.payload)));try{++h.requestsCount,t?((e,t)=>{var n;const{href:r}=l(new URL(e,t.origin),null!=(n=t.parameters)?n:{});let o;if(t.json)o=new Blob([JSON.stringify(t.json)],{type:"application/json"});else if(t.formData){const e=new FormData;Object.entries(t.formData).forEach((t=>{let[n,r]=t;Array.isArray(r)?r.forEach((t=>e.append(n,t))):void 0!==r&&e.append(n,r)})),o=e}if("undefined"==typeof navigator||void 0===navigator.sendBeacon)return"undefined"!=typeof fetch&&b(r,o);try{navigator.sendBeacon(r,o)}catch(e){if(e instanceof Error&&e.message.includes("http://crbug.com/490015"))return b(r,o);throw e}})(m.url,{origin:m.origin,json:o}):await m.api(m.url,{origin:m.origin,method:"POST",parameters:m.parameters,json:o,keepalive:!0,credentials:"include",timeout:6e4,shouldAbortRequestByTimeout:m.shouldAbortRequestByTimeout}),n.resolve(),h.retryTrackCount=0,--h.requestsCount,h.requestsCount||(h.isSending=!1,f())}catch(e){if(--h.requestsCount,h.requestsCount||(h.isSending=!1),e instanceof a.NetworkBase){var i;if(!1===(null==(i=window.navigator)?void 0:i.onLine))await new Promise((e=>{var t;if(!1!==(null==(t=window.navigator)?void 0:t.onLine))return void e();const n=()=>{window.removeEventListener("online",n),e()};window.addEventListener("online",n)}));else{const e=Math.min(3e4,1e3*Math.pow(2,h.retryTrackCount));h.retryTrackCount+=1,await(s=e,new Promise((e=>setTimeout(e,s))))}return g(r).then(n.resolve,n.reject),n}n.reject(e),h.retryTrackCount=0,h.isSending||f()}var s;return n};if(!p){const e=()=>{h.batch.length&&m.sendBeaconOnUnload&&y({useBeacon:!0})};window.addEventListener("beforeunload",e,!1)}return Object.assign((function(e,t){let{maxHold:n=1/0}=void 0===t?{}:t;return g([{payload:e,deadLine:Date.now()+Math.min(null!=n?n:1/0,m.maxHoldMs)}])}),{forceSend:()=>(h.deadLine=-1/0,h.batch.length?y():h.isSending?h.outputPromise:Promise.resolve()),configure:e=>{var t,n,r,o,i,s,a,c,u;m={url:null!=(t=e.url)?t:m.url,origin:null!=(n=e.origin)?n:m.origin,parameters:null!=(r=e.parameters)?r:m.parameters,maxHoldMs:null!=(o=e.maxHoldMs)?o:m.maxHoldMs,maxBatchSize:null!=(i=e.maxBatchSize)?i:m.maxBatchSize,sendBeaconOnUnload:null!=(s=e.sendBeaconOnUnload)?s:m.sendBeaconOnUnload,shouldAbortRequestByTimeout:null!=(a=e.shouldAbortRequestByTimeout)?a:m.shouldAbortRequestByTimeout,api:null!=(c=e.api)?c:m.api,jsonGenerator:null!=(u=e.jsonGenerator)?u:m.jsonGenerator}}})},S=e=>{const t=w(Object.assign({},e,{jsonGenerator:e=>({bulk_ts:Date.now(),stats:e})}));return Object.assign((function(e,n,r){return void 0===r&&(r={}),t(Object.assign({},n,{event:e,ts:Date.now()}),r)}),t)}},698:(e,t,n)=>{"use strict";n.d(t,{kg:()=>m});var r=n(456),o=n(1760);const i=e=>{const t=(e=>{const t=[];if(!(0,o.z7)(e))return t;let n=e,r=0;const i=()=>{var e,s;(0,o.z7)(n)&&t.push(n),(0,o.z7)(null==(e=n)?void 0:e.cause)&&(n=null==(s=n)?void 0:s.cause,r++,r<3&&i())};return i(),t})(e);if(0===t.length)return null;const n=[];let i="",s="";for(let e=0;e<t.length;e++){const r=t[e];r.message&&(i+=`caused by: ${r.message}\n`),r.stack&&(s+=`caused by: ${r.stack}\n`),(0,o.mM)(r.zenLoggerContext)&&n.unshift(r.zenLoggerContext)}return(0,r.N)(...n,{additional:{causeMessage:i,causeStack:s}})},s=(e,t,n)=>{const s=(e=>(0,o.GR)(e)?{message:e}:(0,o.z7)(e)?{message:e.message,stack:e.stack}:null)(e),a=(0,o.z7)(e)&&(0,o.mM)(e.zenLoggerContext)?e.zenLoggerContext:null,c=(0,o.z7)(n)?n:(0,o.z7)(e)&&(0,o.z7)(e.cause)?e.cause:null,u=i(c);return(0,r.N)(u,a,t,s)};n(4072),n(3208);const a=e=>{try{var t;if(void 0===e)return"undefined";if(null===e)return"null";if("number"==typeof e)return e.toString();if("function"==typeof e)return e.toString().slice(0,100);const n=null==e||null==(t=e.constructor)?void 0:t.name,r="undefined"==typeof window||window.Set?JSON.stringify(e,(()=>{const e=new Set;return(t,n)=>n&&"object"==typeof n?e.has(n)?"[Circular]":(e.add(n),n):n})()):JSON.stringify(e);return(n?`${n}: ${r}`:r).slice(0,100)}catch(t){return typeof e}};function c(e,t,n){void 0===n&&(n=c),(0,o.GR)(e.message)||((0,o.mM)(e.additional)||(e.additional={}),e.additional.invalidMessage=a(e.message),e.message=t),(0,o.GR)(e.stack)||(e.stack=((e,t)=>{const n=new Error(e);try{Error.captureStackTrace(n,t)}catch(e){}return n.stack})(e.message,n))}const u=()=>window;var l=n(6799);"undefined"==typeof window&&l.initReqContext,"undefined"==typeof window&&l.runWithReqContext;const d="undefined"==typeof window?l.getReqContext:()=>{const e=u();if(e.zenReqContext||(u().zenReqContext={}),!(0,o.mM)(e.zenReqContext))throw new Error("ReqContext is not an object");return e.zenReqContext},p=()=>"undefined"==typeof window?global:window;const m=new class{constructor(e){var t;this.staticContext=e,this.log=(t=(e,t,n,o)=>{var i,a;const u=p(),l=s(t,n,o),d=(0,r.N)(this.staticContext,this.getContext(),l);c(d,"RequestLogger placeholder",this.log),null==(i=u.zenLogger)||null==(a=i[e])||a.call(i,d)},function(){try{t(...arguments)}catch(e){}})}fatal(e,t,n){this.log("fatal",e,t,n)}error(e,t,n){this.log("error",e,t,n)}warn(e,t,n){this.log("warn",e,t,n)}info(e,t,n){this.log("info",e,t,n)}debug(e,t,n){this.log("debug",e,t,n)}trace(e,t,n){this.log("trace",e,t,n)}getContext(){try{const e=d();return(0,o.mM)(e.zenLoggerContext)?e.zenLoggerContext:{}}catch(e){return{}}}setContext(e){try{d().zenLoggerContext=e}catch(e){}}extendContext(e){try{d().zenLoggerContext=(0,r.N)(this.getContext(),e)}catch(e){}}}({service:"comments",version:"1.24.0"})},1760:(e,t,n)=>{"use strict";n.d(t,{mM:()=>r,GR:()=>o,z7:()=>i});const r=e=>"object"==typeof e&&null!==e,o=e=>"string"==typeof e&&e.length>0,i=e=>r(e)},456:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});const r=e=>{const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const o=t[r],i=e[o];void 0!==i&&(n[o]=i)}return n};var o=n(1760);const i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>{if(!(0,o.mM)(t))return e;const n=Object.assign({},e,r(t));return(0,o.mM)(t.additional)&&(n.additional=Object.assign({},e.additional,r(t.additional))),n}),{})}},6145:(e,t,n)=>{"use strict";n.d(t,{m7:()=>r,sw:()=>o});let r,o;!function(e){e[e.dzen=3260250]="dzen",e[e.news=3260251]="news",e[e.dzenAudience=3274592]="dzenAudience"}(r||(r={})),function(e){e.like="like",e.subscribe="subscribe",e.login="mt_login",e.registration="mt_registration",e.dau="DAU",e.contentAction="content_action",e.videoView="view_video_10sec+",e.newsShow="news_show"}(o||(o={}))},4731:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});n(4072);let r;const o=()=>new Promise((e=>{if(r)return void e(r);let t=!1;const n=setTimeout((()=>{t=!0,e(r)}),5e3),o=window._tmr||(window._tmr=[]);o.push({type:"onready",callback(){t||(clearTimeout(n),r=o.getClientID?o.getClientID():void 0,t=!0,e(r))}})}))},2419:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});n(4072),n(3208);var r=n(6145);const o=new Set(["feedback:more","feedback:less","feedback:favourite","feedback:cancel_favourite","share","end","ad_article:click","ad_article:show","ad_feed:click","ad_feed:show","ad_feed:end","ad_video:play","content_item:ad_video:play","ad_video_cards:click","ad_video_cards:show","login_popup:enter","auth:login","click","source:click","view","full_view","suite_create","comments:create","comments:delete","comments:cancel_delete","publication:draft","publication:publish"]),i=/:/g,s=(e,t)=>{const n=(e||"").split("#")[0];if(!o.has(n))return;const s=n.replace(i,"@"),a=window._tmr||(window._tmr=[]),c={id:r.m7.dzen,type:"reachGoal",goal:s,params:{itemId:null==t?void 0:t.itemId,itemType:null==t?void 0:t.itemType}};a.push(c)}},3968:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var r=n(7363);const o=(0,r.createContext)(null)},2097:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var r=n(7363),o=n(3968);var i=n(698);const s=()=>{const e=(0,r.useContext)(o.y);if(!e)throw new Error("Translations are not passed");const t=e.__LANG__;return{l10n:(0,r.useCallback)((n=>{const r=((e,t)=>e[t])(e,n);return r||(i.kg.error("Missing translation",{additional:{lang:t,key:n}}),"")}),[e,t]),lang:t}}},8374:(e,t,n)=>{"use strict";n(4814)},4814:()=>{"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}))},179:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});const r={"passport-host":"https://passport.yandex.ru","avatar-fallback":"https://avatars.dzeninfra.ru/get-yapic/0/0-0/islands-retina-middle","dead-channel-avatar":"https://avatars.dzeninfra.ru/get-zen_social/1539959/avatar-cat-dead/orig","captcha-host":"https://ext.captcha.yandex.net","captcha-intro-url":"https://ext.captcha.yandex.net/static/intro-ru.mp3","belarus-phone-law-url":"http://www.government.by/upload/docs/file944b1e7301d5a698.PDF"}},589:(e,t,n)=>{"use strict";n(4072),n(3208),n(3311);var r=n(1533),o=n.n(r),i=n(7363),s=n.n(i),a=n(3433),c=n(3968),u=n(1980),l=n(2709),d=n(9626);var p=n(9553),m=n(3364),h=n(8405),f=n(9958),g=n(9976);const{userAgent:v}=window.navigator,y=e=>{let t=!1;if("zenkit"===e.platform){const e=v&&v.match(/ZenKit\/(\d+)\.(\d+)\.(\d+)/);if(e){const[n,r,o]=[e[1],e[2],e[3]].map((e=>parseInt(e,10)));n>1||r>38||o>=2||(t=!0)}}return t},b=function(e,t){return void 0===t&&(t="native"),"string"==typeof e&&1===e.split(":").length?`${t}:${e}`:e},w=e=>{var t;let{data:n,commentId:r}=e;const o=null==(t=n.comments)?void 0:t[0],{csrfToken:i,serverTs:s,socialExperiments:a,meta:c,webviewMeta:l}=n,{groupIds:d,groupNames:p}=a;u.H.updateOptions((e=>{const t={};for(const[n,r]of Object.entries(e))null!=r&&(t[n]=r);return t})({csrfToken:i,sessionTs:s,commentId:o&&o.id===r&&0!==o.rootId?o.rootId:null,sorting:(null==c?void 0:c.sorting)||"top",channelOwnerUid:null==l?void 0:l.channelOwnerUid,publisherId:null==l?void 0:l.publisherId,documentId:null==l?void 0:l.documentId,groupIds:d,groupNames:p}))},S=(e,t,n,r)=>{const{skin:i=f.U.DEFAULT}=t,u=s().createElement(p.a,{onClick:()=>{C(e,t,!1,!0)}});o().render(s().createElement(c.y.Provider,{value:n},s().createElement(a.zt,{store:d.h},s().createElement(h.a,{type:i,isWebviewDrawer:t.isWebviewDrawer},r?s().createElement(m.p,null):u))),e)};let C;const I=(e,t,n)=>{let o=!1;const{commentsApp:i}=t,{translations:s}=i,{statusCode:a,currentUser:c,meta:d}=n;let{onboardingRequired:p}=n;const{platform:m,socialProfileIsSupported:h,experiments:f,debug:g,clid:O}=e,x="string"==typeof e.commentId?parseInt(e.commentId,10):e.commentId,P=a>=500||429===a,T=(null==d?void 0:d.noCommentsFetchedBecauseOfWaterline)||!1,D=P||T,R=(0,l.hg)(e.commentsData);p&&(0,l.pE)(m)&&(p=h);const A=Object.assign({},n,c,{experiments:f,onboardingRequired:p}),j=window.location.hostname.replace(/.*yandex\./,""),N=`https://passport.yandex.${"ru ua by kz com com.tr az co.il com.am com.ge ee fr kg lt lv md tj tm uz".split(" ").includes(j)?j:"ru"}`;delete A.currentUser,g&&console.log("initialState",A);const M=(e=>{const t=(0,l.nu)(e.users,"uid");return{topLikers:(e.likersUids||[]).map((e=>t[e])).filter((e=>e&&!e.isDeleted)),likeCount:e.publicationLikeCount}})(n);((e,t,n)=>{let r=0;e&&(t.currentUser=e.user||{avatar:{}},e.user&&(r=e.user.uid,(n.likersUids||[]).includes(r)&&(t.topLikers=[e.user].concat(t.topLikers))))})(c,M,n),d&&(M.commentCount=d.commentsCount+d.answersCount),w({data:n,commentId:x});let L=0;const U={commentsApi:u.H,getPublicationInfo:()=>M,likePublication:function(e,t){return void 0===t&&(t=!1),i.likePublication(),!(t||!p)&&i.startProfileOnboarding("like")},subscribeOnChannel:function(e,t){return void 0===t&&(t=!1),!(t||!p)&&i.startProfileOnboarding("subscribe")},cancelLikePublication:()=>{i.cancelLikePublication()},openPublicationLikersPopup:()=>{i.openPublicationLikersPopup()},updateAppState:()=>{i.updateAppState()},setIsSubscribedToChannel:e=>{i.setIsSubscribedToChannel(e)},setCommentsPollingEnabled:e=>{i.setCommentsPollingEnabled(e)},getAppInstance:()=>(o=!0,new Promise((e=>{D&&!T||e(U),((e,t)=>{C=(n,r,o,i)=>{l.kg.push({event:"comments:retry_getting_comments"}),S(n,r,t,!0),i&&(E=0,_=!0),Promise.all(k()).then((i=>{let[s,a]=i;if("statusCode"in a){const{statusCode:i}=a;if(i>=500||429===i)return o&&E<0?void setTimeout((()=>{E++,C(n,r,!0,!1)}),200+500*E):void S(n,r,t,!1);const c=I(r,s,a);e(c),c.render(n,r)}}))}})(e,s)}))),destroy:e=>(0,r.unmountComponentAtNode)(e),render:(e,t)=>{if(D&&!T){if(!o)return;return void C(e,t,!0,!1)}const n=t.visibleComments||d.visibleComments;i.render(e,Object.assign({},t,{onMoreComments:(e,n)=>{const{onCommentsEvent:r}=t;"after"===e&&n&&(L++,"function"==typeof r&&(L>1||r("GET_MORE_COMMENTS")))},commentsData:R,commentId:x,documentId:b(t.documentId,t.documentType),isReadOnly:y(t),message:`${t.platform} ${v}`,isAutoscrollEnable:t.isAutoscrollEnable,socialProfileIsSupported:h,clid:O,visibleComments:n,passportHost:t.passportHost||N}),A)}};return D&&!T?{render:U.render,destroy:U.destroy,getAppInstance:U.getAppInstance}:U};let E=0,_=!1;let O=[];const k=()=>{const e=[];return O.forEach((t=>{e.push(t())})),e};"function"==typeof window.onCommentsLoaderReady&&window.onCommentsLoaderReady({load:e=>{const{commentsApiUrl:t,publisherId:r,watcherPublisherId:o,documentId:i,rawDocumentId:s,documentType:a,sessionTs:c,requestId:d,ownerUid:p,deviceId:m,flightId:h,oAuthToken:f,commentCount:v,product:y,partner:w,integration:S,place:C,clid:x,experiments:P,commentsEnabled:T,bulkParams:D,bulkLink:R,platform:A,uatraits:j,debug:N,commentsPayload:M,commentId:L,updateProfile:U,commentsAppPackageUrl:B}=e;N&&(console.log("debug mode"),console.log("comments loader options",e)),u.H.init({commentsApiUrl:t,publisherId:r,watcherPublisherId:o,documentId:b(i,a),rawDocumentId:s,commentId:L,sessionTs:c,rid:d,channelOwnerUid:p,deviceId:m,flightId:h,oAuthToken:f,product:y,partner:w,integration:S,place:C,clid:x,experiments:P,commentsEnabled:T,bulkParams:D,bulkLink:R,platform:A,uatraits:j,debug:N,updateProfile:U}),(0,g.jW)({parameters:{clid:x}});const z=(0,l.hg)(e.commentsData),H=Object.assign({},z,{withUser:!0,commentCount:v});O=[];const F=`${B}/`;return O.push((()=>(n.p=F,n.e(826).then(n.bind(n,824))))),M?O.push((()=>Promise.resolve(M))):s?O.push((()=>u.H.getWebviewComments(Object.assign({},H,{retryNum:E,manualRetry:_})))):L&&0!==L?O.push((()=>u.H.getComment(L,Object.assign({},H,{retryNum:E,manualRetry:_})))):O.push((()=>u.H.getTopComments(Object.assign({},H,{retryNum:E,manualRetry:_})))),new Promise((t=>{((e,t)=>{Promise.all(k()).then((n=>{let[r,o]=n;e(I(t,r,o))})).catch((e=>{console.warn(e)}))})(t,e)}))}})},1980:(e,t,n)=>{"use strict";n.d(t,{H:()=>a});var r=n(2709),o=n(2419);const i={fetchOptions:{mode:"cors",credentials:"include",headers:{}}},s=e=>{const t=(n=e,Object.keys(n));var n;return 0===t.length?"":t.reduce(((t,n)=>{const r=e[n];return n&&void 0!==r?`${t}${0===t.length?"?":"&"}${encodeURIComponent(n)}=${encodeURIComponent(r)}`:t}),"")};const a=new class{constructor(){this._config=Object.assign({},i),this._options={}}_preparePayload(e){const{publisherId:t,watcherPublisherId:n,documentId:r,rawDocumentId:o,commentId:i,sessionTs:s,channelOwnerUid:a,flightId:c,sorting:u}=this._options;return Object.assign({},e,{publisherId:t,watcherPublisherId:n,documentId:r,rawDocumentId:o?o.replace(/^[^:]+:/,""):void 0,commentId:i,sessionTs:s,channelOwnerUid:a,clientTs:Date.now(),flightId:c,sorting:u})}async _get(e,t){const{rid:n,uatraits:o,platform:i,deviceId:a}=this._options,{isMobile:c=!1}=o||{},u=(0,r.pE)(i||""),l=!(c||u),d=this._preparePayload(t),p=s(Object.assign({},d,{rid:n,withProfile:l,deviceId:a||void 0})),m=`${this._options.commentsApiUrl}/${e}${p}`;try{const e=await fetch(m,this._config.fetchOptions),t=await e.json();return t.statusCode=e.status,t}catch(e){return{statusCode:500}}}async _post(e,t,n){void 0===n&&(n={});const{rid:r,deviceId:o}=this._options,i=s(Object.assign({},n.query,{rid:r,deviceId:o||void 0})),a=t instanceof FormData,c=Object.assign({},this._config.fetchOptions,{method:"POST",headers:Object.assign({},this._config.fetchOptions.headers,a?{}:{"content-type":"application/json"},n.headers),body:a?t:JSON.stringify(this._preparePayload(t))});try{const t=await fetch(`${this._options.commentsApiUrl}/${e}${i}`,c),n=await t.json();return n.statusCode=t.status,n}catch(e){return{statusCode:500}}}async _put(e,t,n){void 0===n&&(n={});const{rid:r}=this._options,o=s({rid:r}),i=Object.assign({},this._config.fetchOptions,{method:"PUT",headers:Object.assign({},this._config.fetchOptions.headers,n.headers,{"content-type":"application/json"}),body:JSON.stringify(this._preparePayload(t))});try{const t=await fetch(`${this._options.commentsApiUrl}/${e}${o}`,i),n=await t.json();return n.statusCode=t.status,n}catch(e){return{statusCode:500}}}_updateConfig(){const{oAuthToken:e,zenToken:t,vkToken:n}=this._options,{headers:r}=this._config.fetchOptions;e&&(r.Authorization=`OAuth ${e}`),t&&(r["X-Zen-Authorization"]=t),n&&(r["X-Vk-Authorization"]=n),"500"===this._options.clid&&(this._options.partner="desktop_morda",this._options.integration="morda_zen_lib"),["product","partner","integration","clid","place"].forEach((e=>{const t=this._options[e];if(t){const n=`X-Zen-Comments-${e.charAt(0).toUpperCase()}${e.substr(1)}`;r[n]=String(t)}}))}init(e){this._options=e,this._options.commentId||(this._options.commentId=0),this._updateConfig()}updateOptions(e){this._options=Object.assign({},this._options,e),this._updateConfig()}getWebviewComments(e){return this._get("webview-comments",e)}getTopComments(e){return this._get("top-comments",e)}getFreshTopComments(e){return this._get("fresh-top-comments",e)}getComment(e,t){return this._get(`comments/${e}`,t)}getChildComments(e,t){return this._get(`child-comments/${e}`,{commentCount:t})}getCommentsBefore(e,t){return this._post("comments-before",{id:e,shownRoots:t})}getCommentsAfter(e,t,n){return this._post("comments-after",{id:e,shownRoots:t,retryNum:n})}createComment(e,t,n,r,i,s){(0,o.t)("comments:create");const a={text:e,imageIds:t,rootId:n,replyToId:r,captcha:s,lang:"ru",asPublisher:i};return this._post("create-comment",a)}editComment(e,t,n,r){const o={text:t,imageIds:n,id:e,asPublisher:r};return this._post("edit-comment",o)}deleteComment(e){return(0,o.t)("comments:delete"),this._post(`delete-comment/${e}`,{id:e})}cancelDeleteComment(e){return(0,o.t)("comments:cancel_delete"),this._post(`cancel-delete-comment/${e}`,{id:e})}reactToComment(e,t){return this._post(`react-to-comment/${e}`,{id:e,reaction:t})}getCurrentUser(e){const t="number"==typeof e?{currentUid:e}:{};return this._get("current-user",t)}getCaptcha(){return this._get("captcha/generate",{lang:"ru"})}getMeta(){return this._get("document-meta")}sendStats(e){const t={"X-Zen-Comments-Experiments":String(this._options.experiments)};return this._post("log-comment-stats",{stats:e},{headers:t})}sendBulkStats(e){void 0===e&&(e=[]);const{bulkLink:t}=this._options;if(!t||!e.length)throw new Error("Unable to send bulk stats");return fetch(t,{headers:{accept:"application/json; charset=utf-8","content-type":"application/json; charset=utf-8"},body:JSON.stringify({bulk_ts:Date.now(),stats:e}),method:"POST",mode:"cors",credentials:"include"})}blockUser(e){return this._post(`ban-user/${e}`)}cancelBlockUser(e){return this._post(`cancel-ban-user/${e}`)}getReactorsOfComment(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=20),this._get(`reactors/${e}`,{reaction:t,offset:n,limit:r})}getMorePublicationLikes(e,t){const{documentId:n}=this._options;return this._get(`document-likers/${n}`,{offset:e,limit:t})}getProfileOnboardingStatus(){return this._get("onboarding-status")}completeOnboarding(e){const{csrfToken:t,documentId:n}=this._options;return this._put("complete-onboarding",{context:e,onboardingDocumentId:n},{headers:{"x-csrf-token":t||"unknown"}})}getBulkParams(){const{bulkParams:e=""}=this._options;return e}uploadImage(e){const t=new FormData;return t.append("image",e),this._post("upload-comment-image",t,{query:this._preparePayload()})}pinComment(e){return this._put(`pin-comment/${e}`,{id:e})}unpinComment(e){return this._put(`unpin-comment/${e}`,{id:e})}setHasPublicProfile(){return this._post("set-has-public-profile")}}},6425:(e,t,n)=>{"use strict";n.d(t,{_B:()=>i,Di:()=>a,HI:()=>u});var r=n(9626),o=n(9239);const i=(e,t,n,o)=>r.h.dispatch(s(e,t,n,o)),s=(e,t,n,r)=>({type:o.jT,payload:{editorId:e,rootId:t,replyToId:n,commentId:r,timestamp:Date.now()}}),a=e=>r.h.dispatch(c(e)),c=e=>({type:o.wB,payload:{editorId:e}}),u=e=>{let{editorId:t,commentId:n,rootId:o,replyToId:i,waitingForCommentPublishing:s,error:a,showLoader:c}=e;return r.h.dispatch(l({editorId:t,commentId:n,rootId:o,replyToId:i,waitingForCommentPublishing:s,error:a,showLoader:c}))},l=e=>{let{editorId:t,commentId:n,rootId:r,replyToId:i,waitingForCommentPublishing:s,error:a,showLoader:c}=e;return{type:o.v5,payload:{editorId:t,rootId:r,replyToId:i,waitingForCommentPublishing:s,error:a,showLoader:c,commentId:n}}}},2822:(e,t,n)=>{"use strict";n.d(t,{Ut:()=>s,K6:()=>c,cg:()=>l});var r=n(9626),o=n(1980),i=n(9239);const s=e=>{r.h.dispatch(a(e))},a=e=>({type:i.Jd,payload:e}),c=()=>{r.h.dispatch(u())},u=()=>({type:i.n4,payload:{}}),l=async e=>{const t=await o.H.getCaptcha();200===t.statusCode&&r.h.dispatch(d(e,t))},d=(e,t)=>({type:i.Jd,payload:Object.assign({editorId:e},t.captchaData)})},9335:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(9626),o=n(9239);const i=e=>{r.h.dispatch(s(e))},s=e=>({type:o.i6,payload:e})},3364:(e,t,n)=>{"use strict";n.d(t,{p:()=>P});var r=n(4642),o=n(3949),i=n(7363),s=n.n(i),a=n(4734),c=n(569);const u=["isAnimated","children"],l=(0,c.N)("animated-placeholder"),d=function(e,t){return void 0===t&&(t=!0),(0,i.forwardRef)(((n,o)=>{const i=(0,a.d)(n,{className:l("section",{notAnimated:!t})});return s().createElement(e,(0,r.Z)({ref:o},i))}))},p=(d("div"),(0,i.forwardRef)(((e,t)=>{const{isAnimated:n=!0,children:i}=e,c=(0,o.Z)(e,u),d=(0,a.d)(c,{className:l()});return s().createElement("div",(0,r.Z)({ref:t},d),n?(e=>{const t=s().Children.count(e),n=1.6+.15*t,r=.25*n;return s().Children.map(e,((e,o)=>s().cloneElement(e,{style:Object.assign({},e.props.style,{animationDelay:r/(t-1)*o+"s",animationDuration:`${n}s`})})))})(i):i)}))),m=["theme"],h=(0,c.N)("comments-placeholder"),f=["size","theme","rounded"],g=(0,c.N)("comments-placeholder");n(4072);var v=n(9649),y=n(3081);const b=(0,c.N)("comments-placeholder"),w=d((e=>{const{theme:t}=e,n=(0,o.Z)(e,m),r=(0,a.d)(n,{className:h("heading",{theme:t})});return s().createElement("div",r)})),S=d((e=>{const{size:t,theme:n,rounded:r}=e,i=(0,o.Z)(e,f),c=(0,a.d)(i,{className:g("comment",{size:t,theme:n})});return s().createElement("div",c,s().createElement("div",{className:g("avatar")}),s().createElement("div",{className:g("text",{rounded:r})}))})),C=(0,i.memo)((e=>{let{size:t="l",theme:n,className:r,noCommentsHeader:o,onPlaceholderShown:i}=e;return((e,t)=>{const n=(0,v.Z)(t);if(n&&(0,y.B)(n||[],t||[]))return null;e()})((()=>{new Promise((e=>{"undefined"!=typeof window&&requestAnimationFrame((()=>e()))})).then((()=>{i&&i()}))}),[]),s().createElement(p,{className:c.N.mix(r,b({theme:n})),isAnimated:!0},o?s().createElement(S,{size:t,theme:n}):s().createElement(w,{theme:n}),s().createElement(S,{size:t,theme:n}),s().createElement(S,{size:t,theme:n}))}));var I=n(7175),E=n(6350),_=n(3933);const O=["className"],k=(0,I.N)("comments-container-loader"),x=d((e=>{const{className:t}=e,n=(0,o.Z)(e,O),{isLiveStream:i}=(0,_.Q)();return s().createElement("div",(0,r.Z)({},n,{className:(0,I.C)(k("comment",{isLiveStream:i}),t)}),s().createElement("div",{className:k("avatar",{isLiveStream:i})}),s().createElement("div",{className:k("text",{isLiveStream:i})}))})),P=e=>{let{noCommentsHeader:t}=e;const{countFakeMessage:n=2,theme:r,isLiveStream:o}=(0,_.Q)();return o?s().createElement(p,{className:k(),isAnimated:!0},new Array(n).fill(null).map(((e,t)=>s().createElement(x,{key:t})))):s().createElement(C,{noCommentsHeader:t,size:"xl",theme:r===E.DD.black?"night":void 0})}},9553:(e,t,n)=>{"use strict";n.d(t,{a:()=>w});var r=n(7363),o=n.n(r),i=n(2097),s=n(3242),a=n.n(s),c=n(2508),u=n.n(c),l=n(2250);let d=new(a())({id:"icon-reload-s_1a98--inline",use:"icon-reload-s_1a98--inline-usage",viewBox:"0 0 18 18",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" id="icon-reload-s_1a98--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4a7 7 0 1 0 7 7h-2a5 5 0 1 1-5-5V4z" /><path fill-rule="evenodd" clip-rule="evenodd" d="M11.586.5L16 5l-4.414 4.5-1-1 2-2.5H9V4h3.586l-2-2.5 1-1z" /></symbol>'});const p=(0,l.Z)(u(),d);var m=n(7175),h=n(6932);const f=(0,m.N)("error-reload-button-view"),g=e=>{let{title:t,subtitle:n,onClick:r,children:s,size:a="m",link:c,align:u="left",theme:l="default"}=e;const{l10n:d}=(0,i.$)(),m=o().createElement(o().Fragment,null,o().createElement(h.P,{symbol:p,className:f("icon"),width:"s"===a?14:18}),s||d("onboarding.yabro_interests_retry")),g=c?o().createElement("a",{href:c,target:"_self",className:f("button"),onClick:r},m):o().createElement("button",{className:f("button"),onClick:r},m);return o().createElement("div",{className:f({size:a,align:u,theme:l})},t&&o().createElement("div",{className:f("title")},t),n&&"m"===a&&o().createElement("div",{className:f("subtitle")},n),g)};var v=n(6350),y=n(3933);const b=(0,m.N)("comments-loading-error"),w=e=>{let{onClick:t}=e;const{l10n:n}=(0,i.$)(),{theme:r}=(0,y.Q)();return o().createElement("div",{className:b()},o().createElement(g,{theme:r===v.DD.black?"night":"default",title:n("comments.error-load"),onClick:t},n("common.request-retry")))}},9239:(e,t,n)=>{"use strict";n.d(t,{jT:()=>W,Dg:()=>$,iC:()=>z,ZW:()=>j,n4:()=>Z,kl:()=>ee,Aw:()=>ie,YY:()=>ve,Ah:()=>L,fx:()=>_,Kv:()=>re,rZ:()=>A,bW:()=>ne,df:()=>K,aH:()=>B,g0:()=>U,$B:()=>M,FI:()=>ue,gG:()=>I,l2:()=>T,EO:()=>D,nO:()=>k,v3:()=>E,Hj:()=>O,qK:()=>de,se:()=>pe,VE:()=>H,q0:()=>J,Ud:()=>me,wB:()=>X,Jd:()=>q,$h:()=>fe,i6:()=>V,vn:()=>N,Go:()=>Q,Kz:()=>he,Ss:()=>R,bY:()=>ce,XB:()=>se,Zv:()=>ae,Ps:()=>ge,UL:()=>oe,Wc:()=>te,tG:()=>G,EI:()=>x,JN:()=>le,yc:()=>F,v5:()=>Y,r0:()=>P,rf:()=>Me,SH:()=>Le,gC:()=>Te,mD:()=>Ue,Tj:()=>_e,IU:()=>Ge,QO:()=>xe,YF:()=>Pe,a_:()=>Oe,rd:()=>Ae,MB:()=>Fe,oP:()=>Be,gg:()=>Xe,yN:()=>ke,xx:()=>Ye,Nj:()=>$e,rP:()=>We,up:()=>qe,t5:()=>Ee,YJ:()=>ye,dY:()=>Ze,XY:()=>Ne,Dy:()=>He,GC:()=>Ce,Jg:()=>ze,I5:()=>Re});n(3311),n(4072),n(3208);var r=n(2709),o=n(9626),i=n(1980),s=n(2822),a=n(6425),c=n(9335);const u=e=>({type:$,payload:e}),l=(e,t,n)=>o.h.dispatch(d(e,t,n)),d=(e,t,n)=>({type:Q,payload:{commentId:e,error:t,retryOperation:n}}),p=e=>o.h.dispatch(m(e)),m=e=>({type:ee,payload:{commentId:e}}),h=(e,t,n,r)=>({type:oe,payload:{commentId:e,error:t,type:n,retryOperation:r}}),f=(e,t)=>({type:ie,payload:{commentId:e,type:t}}),g=(e,t,n)=>o.h.dispatch(v(e,t,n)),v=(e,t,n)=>({type:se,payload:{commentId:e,type:t,isLoading:n}});var y=n(179),b=n(8647),w=n(6230),S=n(994),C=n(698);const I="PROCESS_COMMENTS",E="PROCESS_COMMENTS_ON_CHANGE_SORTING",_="CREATE_COMMENT",O="PROCESS_COMMENTS_ON_DELETE",k="PROCESS_COMMENTS_ON_CANCEL_DELETE",x="TOGGLE_PICKER_STICKER_COMMENT",P="UPDATE_USER_INFO",T="PROCESS_COMMENTS_ON_BLOCK",D="PROCESS_COMMENTS_ON_CANCEL_BLOCK",R="SET_INITIAL_STATE",A="EDIT_COMMENT",j="CHANGE_SORTING",N="SET_CONSENTS",M="OPEN_RESTRICTION_MODAL",L="CLOSE_RESTRICTION_MODAL",U="NEXT_RESTRICTION_MODAL",B="LIKE_PUBLICATION",z="CANCEL_LIKE_PUBLICATION",H="PROCESS_MORE_PUBLICATION_LIKES",F="UPDATE_AUTHOR_LIKED",$="ADD_USER_COMPLAIN",W="ADD_COMMENT_EDITOR",X="REMOVE_COMMENT_EDITOR",Y="UPDATE_COMMENT_EDITOR",q="SET_CAPTCHA",Z="CLEAR_CAPTCHA",G="TOGGLE_COMMENT_REACTION_STATE",V="SET_COMPLAIN_STATE",K="INIT_GET_REACTORS_OF_COMMENT_REQUEST",J="PROCESS_REACTORS_OF_COMMENT",Q="SET_ERROR",ee="CLEAR_ERROR",te="START_LOGIN",ne="FINISH_LOGIN",re="_DEBUG_RESET_USER",oe="SET_MORE_BUTTON_ERROR",ie="CLEAR_MORE_BUTTON_ERROR",se="SET_IS_LOADING_MORE_COMMENTS",ae="SET_IS_SUBSCRIBED_TO_CHANNEL",ce="SET_IS_COMMENTS_POLLING_ENABLED",ue="PIN_COMMENT",le="UNPIN_COMMENT",de="PROCESS_LIVE_COMMENTS",pe="PROCESS_LIVE_COMMENTS_AUTHORS_DATA",me="QUEUE_LIVE_COMMENT",he="SET_FRESH_TOP_COMMENTS",fe="SET_COMMENTS_AFTER",ge="SET_LOGIN_POPUP_DATA",ve="CLOSE_LOGIN_POPUP",ye=e=>({type:N,payload:e}),be=e=>({type:E,payload:e}),we=e=>({type:fe,payload:e}),Se=e=>({type:de,payload:e}),Ce=e=>({type:x,payload:e}),Ie=e=>({type:_,payload:e}),Ee=()=>async(e,t)=>{let n;const{settings:o}=t();n=o.commentId?await i.H.getComment(o.commentId,{retryNum:0,manualRetry:!0}):await i.H.getTopComments({retryNum:0,manualRetry:!0}),(0,r.q_)(n)&&(n.serverTs&&i.H.updateOptions({sessionTs:n.serverTs}),e(be(n)))},_e=e=>async(t,n)=>{let o;t((e=>({type:j,payload:{sorting:e}}))(e)),r.F9.stop(),i.H.updateOptions({sorting:e});const{settings:s}=n();o=s.commentId?await i.H.getComment(s.commentId,{updateSorting:!0}):await i.H.getTopComments({updateSorting:!0}),(0,r.q_)(o)&&(o.serverTs&&i.H.updateOptions({sessionTs:o.serverTs}),t(be(o)))},Oe=async(e,t,n,s)=>{let a,c;switch("children"!==t&&s&&(a=(o.h.getState().commentsGroups[0]||[]).filter((e=>e))),g(e,t,!0),t){case"children":c=await i.H.getChildComments(e,n);break;case"before":c=await i.H.getCommentsBefore(e,a||[]);break;case"after":c=await i.H.getCommentsAfter(e,a||[])}(0,r.q_)(c)?(((e,t)=>{o.h.dispatch(f(e,t))})(e,t),o.h.dispatch((e=>({type:I,payload:e}))(c)),"after"===t&&o.h.dispatch(we(c))):((e,t,n,r)=>{o.h.dispatch(h(e,t,n,r))})(e,"get-more-comments-error",t,(()=>Oe(e,t,n,s))),g(e,t,!1)},ke=async e=>{let t,{text:n,imageIds:r,rootId:c,editorId:u,replyToId:l,captcha:d,commentId:p,isEditedNow:m,isUserPublisher:h,isLiveStream:f=!1,onRequestFinished:g}=e;(0,a.HI)({editorId:u,rootId:c,replyToId:l,waitingForCommentPublishing:!0,error:void 0,showLoader:!0,commentId:p}),t=m?await i.H.editComment(p,n,r,h):await i.H.createComment(n,r,c,l,h,d),null==g||g();const v=o.h.getState(),{captchas:y}=v,{status:b,statusCode:w,errors:S=[{}]}=t,{type:C}=S[0],I={code:"captcha-required",retryOperation:()=>ke({text:n,imageIds:r,rootId:c,editorId:u,replyToId:l,captcha:d,commentId:p,isEditedNow:m,isUserPublisher:h,isLiveStream:f})};if("ok"!==b&&"captcha-required"!==b||200!==w)[401,400].includes(w)?I.code="auth-required":I.code=451===w?"belarus-phone-required":m?"edit-comment-error":"create-comment-error",["time-is-over-error","profile-deactivated-error"].includes(C)&&(I.code=C,delete I.retryOperation),(0,a.HI)({editorId:u,rootId:c,replyToId:l,waitingForCommentPublishing:!0,error:I,showLoader:!1,commentId:p});else if("captcha-required"===b)(0,s.Ut)(Object.assign({editorId:u},t.captchaData)),(0,a.HI)({editorId:u,rootId:c,replyToId:l,waitingForCommentPublishing:!0,error:I,showLoader:!1,commentId:p});else{if(y[c]&&(0,s.K6)(),"new"!==u?(0,a.Di)(u):(0,a.HI)({editorId:u,rootId:c,replyToId:l,waitingForCommentPublishing:!1,showLoader:!1,commentId:m?0:p}),m||He("comment"),f&&!m){const{liveCommentsQueue:e}=o.h.getState();if(e.length){const n=t.comments[0].id||0,r=e.filter((e=>e.id<n)).reduce(((e,t)=>{let{comment:n,counter:r}=t;return{comments:[...e.comments,n],counters:[...e.counters,r]}}),{comments:[],counters:[]});return o.h.dispatch(Ie(t)),o.h.dispatch(Se(r)),t}}o.h.dispatch(m?(e=>({type:A,payload:e}))(t):Ie(t))}return t},xe=async(e,t)=>{const n=await i.H.reactToComment(e,t);(0,r.q_)(n)&&(0,c.M)({sent:!0}),(e=>{o.h.dispatch(u(e))})({commentId:e})},Pe=async e=>{const t=await i.H.deleteComment(e);(0,r.q_)(t)?(p(e),o.h.dispatch((e=>({type:O,payload:e}))(t))):l(e,"delete-error",(()=>Pe(e)))},Te=async e=>{const t=await i.H.cancelDeleteComment(e);if((0,r.q_)(t))p(e),o.h.dispatch((e=>({type:k,payload:e}))(t));else{const{errors:n}=t,{type:r}=n[0];"time-is-over-error"===r?l(e,"cancel-time-is-over-error"):l(e,"cancel-delete-error",(()=>Te(e)))}},De=()=>{const{user:e}=o.h.getState(),t=e&&e.uid||0;return i.H.getCurrentUser(t)},Re=async()=>{await Promise.all([i.H.getMeta(),De()]).then((e=>{let[t,n]=e;o.h.dispatch(((e,t)=>({type:P,payload:Object.assign({meta:e},t)}))(t,n))}))},Ae=()=>{const e=o.h.getState(),{ui:t}=e,{isLoginStarted:n}=t;return o.h.dispatch({type:ne,payload:{}}),Boolean(n)},je=e=>{e&&Re()},Ne=async e=>{let{isWebview:t,browserName:n,platform:s,passportHost:a,origin:c}=e;o.h.dispatch({type:te,payload:{}});const u=window.YandexApplicationsAPIBackend;if(u&&u.openAuthDialog){C.kg.error("muted: start login backend.openAuthDialog");const e="zenCommentsOnAuthorize";return window[e]=je,u.on("EVENT_AUTH_FINISHED",e),void u.openAuthDialog("light")}if(t){window.zenCommentsOnAuthorize=je,C.kg.error("muted: start login isWebview");const e=await(0,w.K)();if(null!=e&&e.login){const{token:t,vkToken:n,zenToken:r}=await e.login()||{};if(t||n||r)return(0,S.BV)(Object.assign({},n?{vkToken:n}:{},r?{zenToken:r}:{},n?{yaToken:t}:{})),i.H.updateOptions({oAuthToken:t,zenToken:r,vkToken:n}),void je(!0)}}if((0,r.pE)(s))return C.kg.error("muted: start login isNativeApp(platform)"),void(window.location.href="zenkit://authorize");const l=(0,r.IK)();C.kg.error("muted: start login askForLogin"),await(0,b.kC)({method:"MSIE"!==n?"opener":"localStorage",keyPrefix:"zencomments",domikLink:`${a||y.D["passport-host"]}/auth`,pathToLoginHtml:l,origin:c}),await Re()},Me=async(e,t)=>{const n=await i.H.blockUser(e);(0,r.Ll)(n)?(p(t),o.h.dispatch((e=>({type:T,payload:{authorUid:e}}))(e))):l(t,"block-user-error",(()=>Me(e,t)))},Le=async(e,t)=>{const n=await i.H.cancelBlockUser(e);(0,r.Ll)(n)?(p(t),o.h.dispatch((e=>({type:D,payload:{authorUid:e}}))(e))):l(t,"cancel-block-user-error",(()=>Le(e,t)))},Ue=(e,t)=>{0===t?(0,a.HI)({editorId:e,rootId:t,waitingForCommentPublishing:!1,showLoader:!1,commentId:0}):(0,a.Di)(e)},Be=async e=>{const t=await i.H.pinComment(e);(0,r.q_)(t)?(p(e),o.h.dispatch((e=>({type:ue,payload:{commentId:e}}))(e))):l(e,"pin-comment-error",(()=>Be(e)))},ze=async e=>{const t=await i.H.unpinComment(e);(0,r.q_)(t)?(p(e),o.h.dispatch({type:le,payload:{}})):l(e,"unpin-comment-error",(()=>ze(e)))},He=e=>{const{ui:t}=o.h.getState();return!!t.onboardingRequired&&(i.H.completeOnboarding(e),!0)},Fe=()=>{let{hash:e=""}=window.location;e.length&&(e+="&"),e+="publication_likers",window.location.hash=e},$e=()=>{const e=o.h.getState().liveCommentsQueue[0];if(!e)return;const{comment:t,counter:n}=e,r={comments:[t],counters:[n]};o.h.dispatch(Se(r))},We=e=>{o.h.dispatch((e=>({type:pe,payload:e}))(e))},Xe=e=>{o.h.dispatch(we(e))},Ye=e=>{o.h.dispatch((e=>({type:he,payload:e}))(e))},qe=e=>{o.h.dispatch((e=>({type:me,payload:e}))(e))},Ze=e=>t=>{t((e=>({type:ge,payload:e}))(e))},Ge=()=>e=>{e({type:ve})}},9263:(e,t,n)=>{"use strict";n.d(t,{$:()=>o,B:()=>i});var r=n(7363);let o;!function(e){e.UNDER_EDITOR="UNDER_EDITOR",e.OVER_EDITOR="OVER_EDITOR"}(o||(o={}));const i=r.createContext({})},8405:(e,t,n)=>{"use strict";n.d(t,{a:()=>S});var r=n(7363),o=n.n(r),i=n(6350),s=n(9958),a=n(3433),c=n(1270);const u={[s.U.DEFAULT]:s.U.DARK_STANDALONE,[s.U.DRAWER]:s.U.DARK_DRAWER},l={[s.U.DARK_DRAWER]:s.U.DRAWER,[s.U.DARK_STANDALONE]:s.U.DEFAULT};var d=n(9263);n(4072),n(3208),n(3849);const p=(0,r.createContext)({theme:i.Y8.light,themeSetting:i.O$.system,canChangeTheme:!1,setThemeSetting:()=>{}}),m=e=>e===i.DD.white||e===i.DD.portal?i.Y8.light:e===i.DD.black||e===i.DD.bright?i.Y8.dark:e,h=e=>e in i.DD,f=e=>{let{children:t,theme:n=i.Y8.light}=e;const s=h(n)?m(n):n,[a,c]=(0,r.useState)(!1),u=a?i.Y8.dark:s;return(0,r.useEffect)((()=>{var e;if(n!==i.DD.portal||null==(e=window)||!e.matchMedia)return;const t=window.matchMedia("(prefers-color-scheme: dark)"),r=()=>{const e=t.matches;c(e)};let o=()=>{};return"function"==typeof t.addEventListener?(t.addEventListener("change",r),o=()=>{t.removeEventListener("change",r)}):"function"==typeof t.addListener&&(t.addListener(r),o=()=>{t.removeListener(r)}),r(),o}),[n]),o().createElement(p.Provider,{value:{theme:u,themeSetting:i.O$.light,canChangeTheme:!1,setThemeSetting:()=>{}}},t)},g={theme:i.DD.black},v={hasEmptyStateText:!0,hasFullHeight:!0},y={hideInfoBlock:!0,shouldHideHeader:!0,sortingSelectPosition:d.$.UNDER_EDITOR},b=Object.assign({},y,g),w={[s.U.NIGHT]:b,[s.U.VIEWER_VIDEO]:y,[s.U.SHORT_VIDEO_NIGHT]:Object.assign({isHiddenIconAvatar:!0,isStickyCommentEditor:!1,containerPaddingBottom:20,hasFullHeight:!0},b),[s.U.DARK_STANDALONE]:g,[s.U.PORTAL]:{theme:i.DD.portal},[s.U.DRAWER]:v,[s.U.DARK_DRAWER]:Object.assign({},v,g),[s.U.DEFAULT]:{}},S=e=>{let{type:t,isWebviewDrawer:n,children:r}=e;const p=((e,t)=>{const n=(0,a.v9)((e=>e.zenUserData.zenTheme));return t&&Boolean(n)&&(n===c.JT.dark?u:l)[e]||e})(t||s.U.DEFAULT,n),m=w[p]||w[s.U.DEFAULT];return o().createElement(d.B.Provider,{value:m},o().createElement(f,{theme:m.theme||i.Y8.light},r))}},3933:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var r=n(7363),o=n(9263);function i(){return r.useContext(o.B)}},506:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});var r=n(5693);const o=new RegExp("ntp.*\\.yandex\\.ru"),i=()=>{const e="undefined"!=typeof window?window.location.hostname:"";if(e.startsWith("yandex.")||o.test(e)){return`zen.${(0,r.Ef)(e)}`}return window.location.host}},2709:(e,t,n)=>{"use strict";n.d(t,{IK:()=>J,T4:()=>V,R1:()=>$,b3:()=>G,pE:()=>K,q_:()=>F,Ll:()=>H,nu:()=>z,kg:()=>X,F9:()=>Y,hg:()=>Z,kI:()=>W});n(4072),n(3208),n(3311);var r=n(3460),o=n.n(r),i=n(5435);let s=[],a=[],c=[],u=[],l=[],d=!1;const p=i.Z.hasSupport;let m;function h(e,t){let n=e.length-1;for(;n>=0;n--)t(e[n])}function f(e,t){const n=[];let r;for(let o=0,i=e.length;o!==i;o++)r=e[o],t(r)&&n.push(r);return n}const g={scroll:void 0,scrollBottomEdge:void 0,scrolling:!1,lastScrollChangeTime:void 0,scrollStartPosition:void 0,scrollEndPosition:void 0};let v=x(g),y={},b=!1;function w(){const e=x(v);v=O(e)}function S(e,t,n){return n.fromBottom?e<=n.scroll||Boolean(n.bottomEdge&&t<=n.scroll):e>=n.scroll||Boolean(n.bottomEdge&&t>=n.scroll)}function C(e,t){p&&(t||(window.clearTimeout(m),m=window.setTimeout((()=>I(Date.now(),!0)),250)));const n=x(v);v=O(n,t);const{scroll:r,scrollBottomEdge:o}=v;!0===v.scrolling&&n.scrolling,(!0===v.scrolling||t)&&function(e){E(e,!1),_(e,!1)}(v),!1===v.scrolling&&!0===n.scrolling&&function(e){E(e,!0),_(e,!0),h(l,(e=>{window.clearTimeout(e._timeout),e.callback()})),l=[]}(v),function(e,t){h(s,(n=>{if(S(e,t,n)){if(n.onceDebounce&&n._triggeredDebounce)return;k(n.name,{data:n.data},n.callback),n._triggered=!0,n._triggeredDebounce=!0}else n.onceDebounce&&n._triggeredDebounce&&(n._triggeredDebounce=!1)})),s=f(s,(e=>!(e._triggered&&e.once)))}(r,o),function(e,t){h(a,(n=>{0===n._state&&S(e,t,n)&&(k(n.name,{state:1,data:n.data},n.callback),P(n.name)||(n._state=1)),1!==n._state||S(e,t,n)||(k(n.name,{state:0,data:n.data},n.callback),P(n.name)||(n._state=0))}))}(r,o),p||requestAnimationFrame(I)}const I=b?C:o()(C,30);function E(e,t){const n=f(c,(e=>Boolean(e.endTrigger)===t)),r=(t?e.scrollEndPosition:e.scroll)-e.scrollStartPosition,o=Math.abs(r),i=r>0?1:-1;h(n,(t=>{t.onceDebounce&&y[t.name]||o>=t.delta&&(t.direction===i||t.anyDirection)&&(t.overScrollBehavior||e.scroll>0)&&(k(t.name,{data:t.data},t.callback),t._triggered=!0,y[t.name]=!0)})),c=f(c,(e=>!(e._triggered&&e.once)))}function _(e,t){const n=Date.now();h(u,(r=>{(n-r._lastTriggerTime>=r.timeout||t)&&(k(r.name,{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,data:r.data},r.callback),r._lastTriggerTime=n)}))}function O(e,t){const n=x(g),r=window.pageYOffset,o=Date.now();return n.scroll=r,n.scrollBottomEdge=r+window.innerHeight,n.scroll!==e.scroll?n.lastScrollChangeTime=o:n.lastScrollChangeTime=e.lastScrollChangeTime,n.direction=n.scroll>=e.scroll?1:-1,o-n.lastScrollChangeTime>250||t||n.direction!==e.direction?n.scrolling=!1:n.scrolling=!0,!0===n.scrolling&&!1===e.scrolling&&(n.scrollStartPosition=r,y={}),!0===n.scrolling&&void 0!==e.scrollStartPosition&&void 0===n.scrollStartPosition&&(n.scrollStartPosition=e.scrollStartPosition),!1===n.scrolling&&!0===e.scrolling&&(n.scrollStartPosition=e.scrollStartPosition,n.scrollEndPosition=r),n}function k(e,t,n){P()||n&&n(t)}function x(e){return{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,scrolling:e.scrolling,lastScrollChangeTime:e.lastScrollChangeTime,scrollStartPosition:e.scrollStartPosition,scrollEndPosition:e.scrollEndPosition,direction:e.direction}}function P(){return d}const T=200;const D=new class{loop(e){var t,n,r;"number"==typeof this.start&&"number"==typeof this.distance&&"number"==typeof this.scrollTime&&(this.timeStart||(this.timeStart=e),this.timeElapsed=e-this.timeStart,this.next=(t=this.timeElapsed,n=this.start,r=this.distance,(t/=this.scrollTime/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n),this.container?this.container.scrollTop=this.next:window.scrollTo(0,this.next),this.timeElapsed<this.scrollTime?requestAnimationFrame((e=>{this.loop(e)})):this.end&&this.end())}scrollTo(e){let{top:t=0,animate:n=!0,container:r,scrollTime:o=T}=void 0===e?{}:e;return new Promise((e=>{const i=Math.max(0,t),s=()=>{if("number"!=typeof this.start||"number"!=typeof this.distance)return;const t={scroll:i,scrollBottomEdge:i+window.innerHeight};r?r.scrollTop=this.start+this.distance:window.scrollTo(0,this.start+this.distance),this.timeStart=0,this.enableScrollEvents(),this.scrollPosition=t,e(i)};this.end=s,this.start=r?r.scrollTop:window.pageYOffset,this.distance=i-this.start,this.scrollTime=o,this.disableScrollEvents(),this.container=r,n?requestAnimationFrame((e=>{this.loop(e)})):(r?r.scrollTop=i:window.scrollTo(0,i),s())}))}disableScrollEvents(){d=!0}enableScrollEvents(){setTimeout((()=>(w(),void(d=!1))),500)}};var R=n(4731),A=n(2419),j=n(2705),N=n.n(j),M=n(9626),L=n(1980),U=n(7058);var B=n(506);const z=(e,t)=>{const n={};return e&&e.forEach((e=>{n[e[t]]=e})),n},H=e=>200===(null==e?void 0:e.statusCode),F=e=>"ok"===(null==e?void 0:e.status)&&200===(null==e?void 0:e.statusCode),$=e=>{const t=e.element&&e.element.getBoundingClientRect()||{},{top:n,height:r}=t,{pageYOffset:o}=window;let i=n+o;return e.toBottom?i+=r-150:i-=300,i},W=e=>{const t=(e=>{const t=e&&e.getBoundingClientRect()||{},{top:n,height:r}=t,{innerHeight:o}=window;return n+r<o})(e.element),n=e.position||$({element:e.element,toBottom:e.toBottom});return t&&!e.forced?Promise.resolve():D.scrollTo({top:n,animate:!e.forced})},X=new class{constructor(){this.send=N()((()=>{this._send(this._stats,"sendStats"),this._stats=[]}),1e3),this.sendBulk=N()((()=>{this._send(this._bulkEvents,"sendBulkStats"),this._bulkEvents=[]}),1e3),this.forceSendBulk=()=>{this._send(this._bulkEvents,"sendBulkStats"),this._bulkEvents=[]},this._logged=[],this._stats=[],this._bulkEvents=[],this._clientBulkParams="",this._bulkParams="",this.getLogData=function(e){void 0===e&&(e=0);const t=M.h.getState(),{comments:n}=t,{rootId:r=0,replyToId:o=0,authorUid:i=0}=n[e]||{};return{rootId:r,replyToId:o,authorId:i,authorUid:i,commentId:e||0}},this.params={rid:"",experiments:""}}_send(e,t,n){var r=this;void 0===e&&(e=[]),void 0===n&&(n=2),e.length&&t&&L.H[t](e).then((function(o){void 0===o&&(o={});const{errors:i}=o;i&&0!==i.length&&n>0&&r._send(e,t,--n)})).catch((()=>{n>0&&this._send(e,t,--n)}))}push(e){const t=Object.assign({},void 0!==e.commentId?this.getLogData(e.commentId):{},e.data);this._stats.push({data:t,event:e.event}),this.send()}once(e){const{event:t}=e;this._logged.includes(t)||(this._logged.push(t),this.push(e))}setParams(e){let{rid:t,experiments:n}=e;this.params.rid=t,this.params.experiments=n}getBulkParams(){return this._bulkParams||(this._bulkParams=L.H.getBulkParams()),this._bulkParams}async addBulkEvent(e){let t,{event:n,bulkReplaceMap:r={},payload:o={},ignoreMyTracker:i=!1}=e;i||(t=await(0,R.q)());const s=t?{__mytracker_id__:t}:{},a=this.getBulkParams(),c=(0,U.n)(a,Object.assign({__rid__:this.params.rid,__experiments__:this.params.experiments},s,r)),u=Object.assign({event:n,data:c,ts:Date.now()},o);this._bulkEvents.push(u),(0,A.t)(u.event),this.sendBulk()}addClientBulkEvent(e){let{event:t,bulkReplaceMap:n={},payload:r,ignoreMyTracker:o=!1}=e;this.addBulkEvent({event:t,bulkReplaceMap:n,payload:r,ignoreMyTracker:o})}},Y=new class{constructor(){this.initialPageOffsetY=0,this.initialTargetHeight=0,this.pageYOffset=0,this.ignoreNextScrollEvent=!1,this.mutationCallback=()=>{if(void 0===this.targetNode)return;const e=this.targetNode.clientHeight-this.initialTargetHeight;0!==e&&(this.pageYOffset=Math.max(0,this.initialPageOffsetY+e),this.setIgnoreScroll(!0),window.scrollTo(0,this.pageYOffset))},this.stopObserve=()=>{window.removeEventListener("scroll",this.maybeStopObserve),void 0!==this.observer&&(this.observer.disconnect(),this.observer=void 0)},this.maybeStopObserve=()=>{this.ignoreNextScrollEvent||this.stopObserve(),this.setIgnoreScroll(!1)},this.setIgnoreScroll=e=>{this.ignoreNextScrollEvent=e}}init(e,t){e&&!this.observer?(this.targetNode=e,this.initialTargetHeight=this.targetNode.clientHeight,this.initialPageOffsetY=t||window.pageYOffset,this.pageYOffset=window.pageYOffset,this.observer=new MutationObserver(this.mutationCallback),this.observer.observe(this.targetNode,{childList:!0,subtree:!0}),window.addEventListener("scroll",this.maybeStopObserve)):e||console.error("no target for observe")}stop(){this.observer&&this.stopObserve()}},q={n:"notificationType",s:"source",p:"position"},Z=function(e){return void 0===e&&(e=""),e.split(",").reduce(((e,t)=>{const[n,r]=t.split("_");if(n&&void 0!==r){const t=q[n];if(t)return Object.assign({},e,{[t]:r})}return e}),{notificationType:void 0,source:void 0,position:void 0})},G=(e,t)=>!t||t.isDeleted?"":t.firstName||t.lastName?`${t.firstName||""} ${t.lastName||""}`.trim():t.displayName,V=(e,t)=>(null==t?void 0:t.name)||e("comments.removed-channel"),K=e=>{if(e)return["zenkit","izenkit"].includes(e)},J=()=>`https://${(0,B.S)()}/`},5776:(e,t,n)=>{"use strict";n.d(t,{UY:()=>s,MT:()=>a,m3:()=>c});var r=n(1441),o=n(7363),i=n(3433);const s=r.UY,a=r.MT,c=e=>{const t=(0,i.I0)();return(0,o.useCallback)((function(){return t(e(...arguments))}),[t,e])}},9626:(e,t,n)=>{"use strict";n.d(t,{h:()=>M});var r=n(5776),o=n(1441);function i(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var s=i();s.withExtraArgument=i;const a=s;var c=n(2709),u=n(9239);const l={};n(3311);const d=[],p={},m={},h={};n(4072),n(3208);const f={commentsCount:0,answersCount:0,likedComments:[],dislikedComments:[],userComplains:[],authorLiked:[]},g=e=>{const{meta:{likedComments:t=[],dislikedComments:n=[]}={}}=e;return{likedComments:t,newLikedComments:t,dislikedComments:n,newDislikedComments:n}},v=(e,t)=>{e.includes(t)&&(e=e.splice(e.indexOf(t),1))},y=(e,t)=>{e.includes(t)||e.push(t)},b={likedComments:[],newLikedComments:[],dislikedComments:[],newDislikedComments:[]},w={childBatchSize:10,rootBatchSize:50,cutAfterChars:500,cutAfterLines:5,maxCommentLength:4e3,liveCommentsPollingTimeout:5e3,liveCommentsRenderTimeout:1e3,shouldUseAdditionalLogging:!1},S={};var C=n(1413);const I={},E={},_={},O={},k=[],x=[],P={sortingTs:0,isUILoading:!1},T={id:null},D={isSubscribedToChannel:!1};n(7453);const R={isOpen:!1},A=e=>`${e.type}:${e.displayName}`;var j=n(5404);const N=(0,r.UY)({comments:function(e,t){switch(void 0===e&&(e=l),t.type){case u.Ss:case u.v3:{const{comments:e}=t.payload;return(0,c.nu)(e,"id")}case u.Hj:case u.nO:case u.gG:case u.qK:case u.fx:case u.rZ:{const{comments:n}=t.payload;return Object.assign({},e,(0,c.nu)(n,"id"))}default:return e}},profiles:function(e,t){switch(void 0===e&&(e=p),t.type){case u.Ss:case u.v3:{const{profiles:e}=t.payload;return Object.assign({},(0,c.nu)(e,"uid"))}case u.Hj:case u.nO:case u.gG:case u.se:case u.fx:{const{profiles:n}=t.payload;return Object.assign({},e,(0,c.nu)(n,"uid"))}default:return e}},publishers:function(e,t){switch(void 0===e&&(e=m),t.type){case u.Ss:case u.v3:{const{publishers:e}=t.payload;return Object.assign({},m,(0,c.nu)(e,"publisherId"))}case u.Hj:case u.nO:case u.gG:case u.se:case u.fx:{const{publishers:n}=t.payload;return Object.assign({},e,(0,c.nu)(n,"publisherId"))}default:return e}},counters:function(e,t){switch(void 0===e&&(e=h),t.type){case u.v3:case u.Ss:{const{counters:e}=t.payload;return(0,c.nu)(e,"id")}case u.qK:case u.gG:{const{counters:n}=t.payload;return Object.assign({},e,(0,c.nu)(n,"id"))}default:return e}},meta:function(e,t){switch(void 0===e&&(e=f),t.type){case u.v3:case u.Ss:{const{payload:n}=t;return n&&n.meta||e}case u.gG:{var n,r,o,i;const s=new Set(e.authorLiked||[]);null==(n=t.payload)||null==(r=n.meta.authorLiked)||r.forEach((e=>s.add(e)));const a=new Set(e.userComplains||[]);return null==(o=t.payload)||null==(i=o.meta.userComplains)||i.forEach((e=>a.add(e))),Object.assign({},e,{authorLiked:Array.from(s),userComplains:Array.from(a)})}case u.Dg:{const{payload:n}=t,r=Object.assign({},e);return r.userComplains||(r.userComplains=[]),r.userComplains.push(n.commentId),r}case u.r0:{const{meta:n}=t.payload;return Object.assign({},e,{isPhoneRequired:(null==n?void 0:n.isPhoneRequired)||!1})}case u.yc:{const{payload:n}=t;return Object.assign({},e,{authorLiked:n})}case u.ZW:{const{payload:n}=t;return Object.assign({},e,n)}default:return e}},editors:function(e,t){switch(void 0===e&&(e={}),t.type){case u.jT:case u.v5:{const{payload:n}=t,r=e[n.editorId];return Object.assign({},e,{[n.editorId]:Object.assign({},r,n)})}case u.wB:{const{payload:n}=t,r=Object.assign({},e);return delete r[n.editorId],r}default:return e}},user:function(e,t){switch(void 0===e&&(e=null),t.type){case u.Ss:{const{user:e,publishers:n}=t.payload;return e&&Array.isArray(n)&&n.length&&!n.find((t=>t.uid===e.uid))?Object.assign({},e,{isChangeToChannelForbidden:!0}):e||null}case u.r0:{const{user:e}=t.payload;return e||null}case u.Kv:return null;default:return e}},consents:function(e,t){switch(void 0===e&&(e=null),t.type){case u.Ss:case u.r0:{const{consents:e}=t.payload;return null!=e?e:null}case u.vn:return e?Object.assign({},e,t.payload):e;default:return e}},captchas:function(e,t){switch(void 0===e&&(e={}),t.type){case u.Jd:{const{editorId:n}=t.payload;return Object.assign({},e,{[n]:Object.assign({},t.payload)})}case u.n4:return{};default:return e}},commentsGroups:function(e,t){switch(void 0===e&&(e={}),t.type){case u.$h:{const{deletedCommentIds:n}=t.payload;if(n.length>0){let t=!1;const r=Object.keys(e).reduce(((r,o)=>{const i=e[o].filter((e=>!n.includes(e)));return i.length!==e[o].length?(t=!0,r[o]=i):r[o]=e[o],r}),{});if(t)return r}return e}case u.v3:case u.gG:case u.qK:case u.Ss:{const{comments:n,counters:r}=t.payload,o=t.type===u.Ss||t.type===u.v3?{}:Object.assign({},e);if(!n||0===n.length)return o;if(!r||!r.length)return o;const i=(0,c.nu)(r,"id");return n.forEach((e=>{const{id:t,rootId:n}=e,{index:r}=i[t];o[n]||(o[n]=[]),o[n].includes(t)||(o[n][r-1]?o[n].push(t):o[n][r-1]=t)})),o}default:return e}},newCommentsGroups:function(e,t){if(void 0===e&&(e={}),t.type===u.Ss)return{};let n=Object.assign({},e);switch(t.type===u.v3&&(n={}),t.type){case u.v3:case u.qK:case u.gG:{const{comments:e}=t.payload;return e.forEach((e=>{const{id:t,rootId:r}=e;n[r]&&n[r].includes(t)&&(n[r]=n[r].filter((e=>e!==t)))})),n}case u.fx:{const{comments:n}=t.payload,r=n[0],o=Object.assign({},e),{id:i,rootId:s}=r;return o[s]||(o[s]=[]),"0"===s?o[s].unshift(i):o[s].push(i),o}default:return e}},deletedComments:function(e,t){switch(void 0===e&&(e=d),t.type){case u.v3:return[];case u.Hj:{const{comments:n}=t.payload;return e.concat(n[0].id)}case u.nO:{const{comments:n}=t.payload;return e.filter((e=>e!==n[0].id))}default:return e}},reactedComments:function(e,t){switch(void 0===e&&(e=b),t.type){case u.Ss:case u.r0:return Object.assign({},e,g(t.payload));case u.tG:{const{commentId:n,actionType:r}=t.payload,{newLikedComments:o,newDislikedComments:i}=((e,t,n)=>{const r=[...e.newLikedComments],o=[...e.newDislikedComments];switch(n){case"like":y(r,t),v(o,t);break;case"dislike":y(o,t),v(r,t);break;case"cancel_like":v(r,t);break;case"cancel_dislike":v(o,t)}return{newLikedComments:r,newDislikedComments:o}})(e,n,r);return Object.assign({},e,{newLikedComments:o,newDislikedComments:i})}case u.gG:{const n=new Set(e.likedComments),r=new Set(e.dislikedComments),o=new Set(e.newLikedComments),i=new Set(e.newDislikedComments);return t.payload.meta.likedComments.forEach((e=>{n.add(e),r.delete(e),o.add(e),i.delete(e)})),t.payload.meta.dislikedComments.forEach((e=>{r.add(e),n.delete(e),i.add(e),o.delete(e)})),{newLikedComments:Array.from(o),newDislikedComments:Array.from(i),likedComments:Array.from(n),dislikedComments:Array.from(r)}}case u.v3:return Object.assign({},b,g(t.payload));default:return e}},dynamicProperties:function(e,t){if(void 0===e&&(e=w),t.type===u.Ss){const{childBatchSize:e,rootBatchSize:n,cutAfterChars:r,cutAfterLines:o,maxCommentLength:i,shouldUseAdditionalLogging:s,liveCommentsPollingTimeout:a,liveCommentsRenderTimeout:c}=Object.assign({},w,t.payload.meta);return Object.assign({},w,{childBatchSize:e,rootBatchSize:n,cutAfterChars:r,cutAfterLines:o,maxCommentLength:i,shouldUseAdditionalLogging:s,liveCommentsPollingTimeout:a,liveCommentsRenderTimeout:c})}return e},complain:function(e,t){if(void 0===e&&(e=S),t.type===u.i6){const{payload:n}=t;return Object.assign({},e,n)}return e},reactors:function(e,t){switch(void 0===e&&(e=I),t.type){case u.ZW:return I;case u.q0:{const{reaction:n,commentId:r,statusCode:o}=t.payload,i=Object.assign({},e[r]);if(200!==o){const t=i[n];return t?(t.status=C.aq.ERROR,Object.assign({},e,{[r]:i})):Object.assign({},e,{[r]:Object.assign({},i,{[n]:{data:[],status:C.aq.ERROR}})})}}}switch(t.type){case u.df:{const{reaction:n,commentId:r}=t.payload,o=Object.assign({},e[r]);return o[n]?(o[n]=Object.assign({data:[]},o[n],{status:C.aq.PENDING}),Object.assign({},e,{[r]:o})):Object.assign({},e,{[r]:Object.assign({},o,{[n]:{data:[],status:C.aq.PENDING}})})}case u.q0:{const{reaction:n,commentId:r,commentsLikes:o,commentsDislikes:i,hasMore:s}=t.payload,{uids:a=[]}=n===C.le.Like?o&&o[0]:i&&i[0],c=s?C.aq.OK:C.aq.ALL,u=e[r],l=u[n],d=l&&l.data||[];return Object.assign({},e,{[r]:Object.assign({},u,{[n]:{data:d.concat(a),status:c}})})}default:return e}},users:function(e,t){switch(void 0===e&&(e=E),t.type){case u.Ss:case u.fx:case u.v3:case u.gG:case u.se:case u.VE:case u.q0:{const{users:n}=t.payload;return n&&n.length?Object.assign({},e,(0,c.nu)(n,"uid")):e}case u.r0:{const{user:n}=t.payload;return n?Object.assign({},e,{[n.uid]:Object.assign({},e[n.uid],{name:n.name,displayName:n.displayName,avatar:n.avatar,mainColor:n.userMainColor})}):e}default:return e}},usersInterests:function(e,t){switch(void 0===e&&(e=_),t.type){case u.q0:case u.VE:{const{usersInterests:n}=t.payload;return n?(n.forEach((t=>{const{uid:n,interests:r}=t;e=Object.assign({},e,{[n]:[]}),r.forEach((t=>{e[n].push(t.id)}))})),e):e}default:return e}},interests:function(e,t){switch(void 0===e&&(e=O),t.type){case u.VE:case u.q0:{const{usersInterests:n}=t.payload;return n?(n.forEach((t=>{const{interests:n}=t;n.forEach((t=>{const{id:n,title:r}=t;e[n]||(e=Object.assign({},e,{[n]:{id:n,title:r}}))}))})),e):e}default:return e}},blockedComments:function(e,t){switch(void 0===e&&(e=k),t.type){case u.l2:{const{authorUid:n}=t.payload;return e.concat(n)}case u.EO:{const{authorUid:n}=t.payload;return e.filter((e=>e!==n))}default:return e}},unblockedComments:function(e,t){switch(void 0===e&&(e=x),t.type){case u.l2:{const{authorUid:n}=t.payload;return e.filter((e=>e!==n))}case u.EO:{const{authorUid:n}=t.payload;return e.concat(n)}default:return e}},errors:function(e,t){switch(void 0===e&&(e={}),t.type){case u.Go:{const{commentId:n,error:r,retryOperation:o}=t.payload;return Object.assign({},e,{[n]:{code:r,retryOperation:o}})}case u.kl:{const{commentId:n}=t.payload,r=Object.assign({},e);return delete r[n],r}default:return e}},loadingError:function(e,t){return void 0===e&&(e=!1),t.type===u.Ss?Boolean(t.payload&&t.payload.loadingError):e},settings:function(e,t){switch(void 0===e&&(e={}),t.type){case u.Ss:{const{settings:e}=t.payload;return e||{}}case u.EI:return Object.assign({},e,{isOpenStickers:t.payload});case u.bY:return Object.assign({},e,{shouldCommentsPolling:t.payload});default:return e}},ui:function(e,t){switch(void 0===e&&(e=P),t.type){case u.v3:case u.Ss:{const{onboardingRequired:n,newAgreement:r=!1}=t.payload;return Object.assign({},e,{isUILoading:!1,sortingTs:Date.now(),onboardingRequired:n,newAgreement:r})}case u.ZW:return Object.assign({},e,{isUILoading:!0,sortingTs:Date.now()});case u.Wc:return Object.assign({},e,{isLoginStarted:!0});case u.bW:case u.r0:return Object.assign({},e,{isLoginStarted:!1});default:return e}},commentsView:function(e,t){switch(void 0===e&&(e={}),t.type){case u.Ss:{const{comments:n,settings:r}=t.payload,o={};if(!r||!r.commentId)return e;const{commentId:i}=r,s=(0,c.nu)(n,"id"),a=s[i];if(a){o[a.id]={shouldBeFullyShown:!0};const e=0!==a.rootId?s[a.rootId]:null;e&&(o[e.id]={shouldBeFullyShown:!0})}return o}case u.fx:case u.rZ:case u.qK:case u.gG:{const n=Object.assign({},e),{comments:r}=t.payload;return r.forEach((e=>{e.id&&(n[e.id]={shouldBeFullyShown:!0})})),n}default:return e}},experiments:function(e,t){if(void 0===e&&(e={}),t.type===u.Ss){const{socialExperiments:e}=t.payload,{groupNames:n}=e,r={};return n.split(",").forEach((e=>{r[e]=!0})),r}return e},moreButton:function(e,t){switch(void 0===e&&(e={}),t.type){case u.UL:{const{commentId:n,error:r,type:o,retryOperation:i}=t.payload;return Object.assign({},e,{[`${n}-${o}`]:Object.assign({},e[`${n}-${o}`],{error:{code:r,type:o,retryOperation:i}})})}case u.Aw:{const{commentId:n,type:r}=t.payload,o=Object.assign({},e);return delete o[`${n}-${r}`].error,o}case u.XB:{const{commentId:n,type:r,isLoading:o}=t.payload;return Object.assign({},e,{[`${n}-${r}`]:Object.assign({},e[`${n}-${r}`],{isLoading:o})})}default:return e}},emojis:function(e,t){if(void 0===e&&(e=[]),t.type===u.Ss){const{emojis:e}=t.payload;return[...e]}return e},socialExperiments:function(e,t){if(void 0===e&&(e={}),t.type===u.Ss){const{socialExperiments:e}=t.payload,{clientProps:n}=e;return n}return e},pinnedComment:function(e,t){switch(void 0===e&&(e=T),t.type){case u.Ss:{const{comments:n}=t.payload;for(const e of n)if(e.isPinned)return{id:e.id};return e}case u.FI:{const{commentId:e}=t.payload;return{id:e}}case u.JN:return T;default:return e}},userSubscription:function(e,t){switch(void 0===e&&(e=D),t.type){case u.Ss:{const{settings:e}=t.payload;return{isSubscribedToChannel:Boolean(null==e?void 0:e.isSubscribedToChannel)}}case u.Zv:{const{payload:e}=t;return{isSubscribedToChannel:e.isSubscribedToChannel}}case u.r0:{const{user:n}=t.payload;return n?{isSubscribedToChannel:Boolean(null==n?void 0:n.subscribed)}:e}default:return e}},liveCommentsQueue:function(e,t){switch(void 0===e&&(e=[]),t.type){case u.Ud:{const{comments:n,counters:r}=t.payload;n.sort(((e,t)=>e.id-t.id));const o=[];return n.forEach((e=>{const t=r.find((t=>t.id===e.id)),n={comment:e,counter:t,id:e.id};o.push(n)})),[...e,...o]}case u.qK:{const{comments:n}=t.payload,r=n[n.length-1];return r?e.filter((e=>e.id>r.id)):e}default:return e}},liveSystemNotifications:function(e,t){switch(void 0===e&&(e=[]),t.type){case u.Kz:case u.$h:{const{systemNotifications:n}=t.payload,r=e.reduce(((e,t)=>(e[A(t)]=!0,e)),{});return[...e,...n.filter((e=>!r[A(e)]))]}default:return e}},zenUserData:j.d,restrictionsModal:function(e,t){switch(void 0===e&&(e=R),t.type){case u.g0:return e.isOpen&&e.stages.length>e.index+1?Object.assign({},e,{index:e.index+1}):{isOpen:!1};case u.$B:{const{stages:e}=t.payload;return{stages:e,index:0,isOpen:!0}}case u.Ah:return{isOpen:!1};default:return e}},loginPopup:function(e,t){switch(void 0===e&&(e={isOpen:!1}),t.type){case u.Ps:return Object.assign({},e,{data:t.payload,isOpen:!0});case u.YY:return Object.assign({},e,{isOpen:!1});default:return e}}}),M=(0,r.MT)(N,(0,o.md)(a))},1413:(e,t,n)=>{"use strict";let r,o,i,s,a,c,u,l;n.d(t,{Sh:()=>r,Kw:()=>o,le:()=>i,GI:()=>s,rC:()=>a,aq:()=>c,t4:()=>u,TX:()=>l}),function(e){e.VISIBLE="visible",e.INVISIBLE="invisible",e.SUBSCRIBE_VISIBLE="subscribe-visible"}(r||(r={})),function(e){e.visible="visible",e.invisible="invisible",e.hidden="hidden",e.deleted="deleted"}(o||(o={})),function(e){e.Like="like",e.Dislike="dislike"}(i||(i={})),function(e){e.Default="",e.SpamOrFraud="spam_or_fraud",e.Obscene="obscene",e.Inappropriate="inappropriate"}(s||(s={})),function(e){e.CancelLike="cancel_like",e.CancelDislike="cancel_dislike"}(a||(a={})),function(e){e.OK="ok",e.PENDING="pending",e.ERROR="error",e.ALL="all"}(c||(c={})),function(e){e.default="",e.zenkit="zenkit",e.izenkit="izenkit"}(u||(u={})),function(e){e.LIKE="like",e.SUBSCRIBER="subscriber"}(l||(l={}))},5404:(e,t,n)=>{"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(e){return!!e&&!!e[q]}function i(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[Y]||!!e.constructor[Y]||p(e)||m(e))}function s(e,t,n){void 0===n&&(n=!1),0===a(e)?(n?Object.keys:Z)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function a(e){var t=e[q];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:p(e)?2:m(e)?3:0}function c(e,t){return 2===a(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){return 2===a(e)?e.get(t):e[t]}function l(e,t,n){var r=a(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){return F&&e instanceof Map}function m(e){return $&&e instanceof Set}function h(e){return e.o||e.t}function f(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=G(e);delete t[q];for(var n=Z(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function g(e,t){return void 0===t&&(t=!1),y(e)||o(e)||!i(e)||(a(e)>1&&(e.set=e.add=e.clear=e.delete=v),Object.freeze(e),t&&s(e,(function(e,t){return g(t,!0)}),!0)),e}function v(){r(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=V[e];return t||r(18,e),t}function w(e,t){V[e]||(V[e]=t)}function S(){return z}function C(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function I(e){E(e),e.p.forEach(O),e.p=null}function E(e){e===z&&(z=e.l)}function _(e){return z={p:[],l:z,h:e,m:!0,_:0}}function O(e){var t=e[q];0===t.i||1===t.i?t.j():t.g=!0}function k(e,t){t._=t.p.length;var n=t.p[0],o=void 0!==e&&e!==n;return t.h.O||b("ES5").S(t,e,o),o?(n[q].P&&(I(t),r(4)),i(e)&&(e=x(t,e),t.l||T(t,e)),t.u&&b("Patches").M(n[q],e,t.u,t.s)):e=x(t,n,[]),I(t),t.u&&t.v(t.u,t.s),e!==X?e:void 0}function x(e,t,n){if(y(t))return t;var r=t[q];if(!r)return s(t,(function(o,i){return P(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return T(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=f(r.k):r.o;s(3===r.i?new Set(o):o,(function(t,i){return P(e,r,o,t,i,n)})),T(e,o,!1),n&&e.u&&b("Patches").R(r,n,e.u,e.s)}return r.o}function P(e,t,n,r,s,a){if(o(s)){var u=x(e,s,a&&t&&3!==t.i&&!c(t.D,r)?a.concat(r):void 0);if(l(n,r,u),!o(u))return;e.m=!1}if(i(s)&&!y(s)){if(!e.h.N&&e._<1)return;x(e,s),t&&t.A.l||T(e,s)}}function T(e,t,n){void 0===n&&(n=!1),e.h.N&&e.m&&g(t,n)}function D(e,t){var n=e[q];return(n?h(n):e)[t]}function R(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function A(e){e.P||(e.P=!0,e.l&&A(e.l))}function j(e){e.o||(e.o=f(e.t))}function N(e,t,n){var r=p(t)?b("MapSet").T(t,n):m(t)?b("MapSet").F(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:S(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=K;n&&(o=[r],i=J);var s=Proxy.revocable(o,i),a=s.revoke,c=s.proxy;return r.k=c,r.j=a,c}(t,n):b("ES5").J(t,n);return(n?n.A:S()).p.push(r),r}function M(e){return o(e)||r(22,e),function e(t){if(!i(t))return t;var n,r=t[q],o=a(t);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=L(t,o),r.I=!1}else n=L(t,o);return s(n,(function(t,o){r&&u(r.t,t)===o||l(n,t,e(o))})),3===o?new Set(n):n}(e)}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return f(e)}function U(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[q];return K.get(t,e)},set:function(t){var n=this[q];K.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var o=e[t][q];if(!o.P)switch(o.i){case 5:r(o)&&A(o);break;case 4:n(o)&&A(o)}}}function n(e){for(var t=e.t,n=e.k,r=Z(n),o=r.length-1;o>=0;o--){var i=r[o];if(i!==q){var s=t[i];if(void 0===s&&!c(t,i))return!0;var a=n[i],u=a&&a[q];if(u?u.t!==s:!d(a,s))return!0}}var l=!!t[q];return r.length!==Z(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var i={};w("ES5",{J:function(t,n){var r=Array.isArray(t),o=function(t,n){if(t){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,e(o,!0));return r}var i=G(n);delete i[q];for(var s=Z(i),a=0;a<s.length;a++){var c=s[a];i[c]=e(c,t||!!i[c].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,t),i={i:r?5:4,A:n?n.A:S(),P:!1,I:!1,D:{},l:n,t,k:o,o:null,g:!1,C:!1};return Object.defineProperty(o,q,{value:i,writable:!0}),o},S:function(e,n,i){i?o(n)&&n[q].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[q];if(n){var o=n.t,i=n.k,a=n.D,u=n.i;if(4===u)s(i,(function(t){t!==q&&(void 0!==o[t]||c(o,t)?a[t]||e(i[t]):(a[t]=!0,A(n)))})),s(o,(function(e){void 0!==i[e]||c(i,e)||(a[e]=!1,A(n))}));else if(5===u){if(r(n)&&(A(n),a.length=!0),i.length<o.length)for(var l=i.length;l<o.length;l++)a[l]=!1;else for(var d=o.length;d<i.length;d++)a[d]=!0;for(var p=Math.min(i.length,o.length),m=0;m<p;m++)void 0===a[m]&&e(i[m])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}n.d(t,{f:()=>ue,d:()=>le});var B,z,H="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),F="undefined"!=typeof Map,$="undefined"!=typeof Set,W="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,X=H?Symbol.for("immer-nothing"):((B={})["immer-nothing"]=!0,B),Y=H?Symbol.for("immer-draftable"):"__$immer_draftable",q=H?Symbol.for("immer-state"):"__$immer_state",Z=("undefined"!=typeof Symbol&&Symbol.iterator,"undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames),G=Object.getOwnPropertyDescriptors||function(e){var t={};return Z(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},V={},K={get:function(e,t){if(t===q)return e;var n=h(e);if(!c(n,t))return function(e,t,n){var r,o=R(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!i(r)?r:r===D(e.t,t)?(j(e),e.o[t]=N(e.A.h,r,e)):r},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,n){var r=R(h(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=D(h(e),t),i=null==o?void 0:o[q];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(d(n,o)&&(void 0!==n||c(e.t,t)))return!0;j(e),A(e)}return e.o[t]=n,e.D[t]=!0,!0},deleteProperty:function(e,t){return void 0!==D(e.t,t)||t in e.t?(e.D[t]=!1,j(e),A(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=h(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},J={};s(K,(function(e,t){J[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),J.deleteProperty=function(e,t){return K.deleteProperty.call(this,e[0],t)},J.set=function(e,t,n){return K.set.call(this,e[0],t,n,e[0])};var Q=function(){function e(e){this.O=W,this.N=!0,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,n){if("function"==typeof e&&"function"!=typeof t){var o=t;t=e;var s=this;return function(e){var n=this;void 0===e&&(e=o);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return s.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(i))}))}}var a;if("function"!=typeof t&&r(6),void 0!==n&&"function"!=typeof n&&r(7),i(e)){var c=_(this),u=N(this,e,void 0),l=!0;try{a=t(u),l=!1}finally{l?I(c):E(c)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return C(c,n),k(e,c)}),(function(e){throw I(c),e})):(C(c,n),k(a,c))}if(!e||"object"!=typeof e){if((a=t(e))===X)return;return void 0===a&&(a=e),this.N&&g(a,!0),a}r(21,e)},t.produceWithPatches=function(e,t){var n,r,o=this;return"function"==typeof e?function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return o.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(r))}))}:[this.produce(e,t,(function(e,t){n=e,r=t})),n,r]},t.createDraft=function(e){i(e)||r(8),o(e)&&(e=M(e));var t=_(this),n=N(this,e,void 0);return n[q].C=!0,E(t),n},t.finishDraft=function(e,t){var n=(e&&e[q]).A;return C(n,t),k(void 0,n)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){e&&!W&&r(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=b("Patches").$;return o(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}(),ee=new Q,te=ee.produce;ee.produceWithPatches.bind(ee),ee.setAutoFreeze.bind(ee),ee.setUseProxies.bind(ee),ee.applyPatches.bind(ee),ee.createDraft.bind(ee),ee.finishDraft.bind(ee);const ne=te;var re=n(1441);function oe(){return oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;function ie(e,t){function n(){if(t){var n=t.apply(void 0,arguments);if(!n)throw new Error("prepareAction did not return an object");return oe({type:e,payload:n.payload},"meta"in n&&{meta:n.meta},{},"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function se(e){var t,n={},r=[],o={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,o},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),o},addDefaultCase:function(e){return t=e,o}};return e(o),[n,r,t]}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));U();var ae=n(1270);const ce=function(e){var t=e.name,n=e.initialState;if(!t)throw new Error("`name` is a required option for createSlice");var r=e.reducers||{},s=void 0===e.extraReducers?[]:"function"==typeof e.extraReducers?se(e.extraReducers):[e.extraReducers],a=s[0],c=void 0===a?{}:a,u=s[1],l=void 0===u?[]:u,d=s[2],p=void 0===d?void 0:d,m=Object.keys(r),h={},f={},g={};m.forEach((function(e){var n,o,i=r[e],s=function(e,t){return e+"/"+t}(t,e);"reducer"in i?(n=i.reducer,o=i.prepare):n=i,h[e]=n,f[s]=n,g[e]=o?ie(s,o):ie(s)}));var v=function(e,t,n,r){void 0===n&&(n=[]);var s="function"==typeof t?se(t):[t,n,r],a=s[0],c=s[1],u=s[2];return function(t,n){void 0===t&&(t=e);var r=[a[n.type]].concat(c.filter((function(e){return(0,e.matcher)(n)})).map((function(e){return e.reducer})));return 0===r.filter((function(e){return!!e})).length&&(r=[u]),r.reduce((function(e,t){if(t){if(o(e)){var r=t(e,n);return void 0===r?e:r}if(i(e))return ne(e,(function(e){return t(e,n)}));var s=t(e,n);if(void 0===s){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return s}return e}),t)}}(n,oe({},c,{},f),l,p);return{name:t,reducer:v,actions:g,caseReducers:h}}({name:"zenUserData",initialState:{zenTheme:(0,n(4515).ei)()?ae.JT.dark:void 0},reducers:{changeZenTheme:(e,t)=>{let{payload:n}=t;e.zenTheme=n}}}),{changeZenTheme:ue}=ce.actions,le=ce.reducer},4515:(e,t,n)=>{"use strict";n.d(t,{LG:()=>u,ei:()=>c});var r=n(9800),o=n.n(r),i=n(1270);const s="#111215",a=e=>{document.body.style.backgroundColor=e?s:""},c=()=>o().get("zenTheme")===i.JT.dark,u=e=>{o().set("zenTheme",e,{path:"/",domain:".yandex.ru"}),a(e===i.JT.dark)}},5693:(e,t,n)=>{"use strict";n.d(t,{S8:()=>r,Ef:()=>o});n(3311),n(4072);const r=()=>"undefined"==typeof window?"ru":window.location.hostname.replace(/.*\.yandex\./,"");const o=function(e,t){return void 0===t&&(t=2),t?e.split(".").slice(-t).join("."):"."}},6350:(e,t,n)=>{"use strict";let r,o,i;n.d(t,{DD:()=>r,Y8:()=>o,O$:()=>i}),function(e){e.bright="bright",e.black="black",e.white="white",e.portal="portal"}(r||(r={})),function(e){e.light="light",e.dark="dark"}(o||(o={})),function(e){e.light="light",e.dark="dark",e.system="system"}(i||(i={}))},9958:(e,t,n)=>{"use strict";let r;n.d(t,{U:()=>r}),function(e){e.DEFAULT="DEFAULT",e.NIGHT="NIGHT",e.VIEWER_VIDEO="VIEWER_VIDEO",e.SHORT_VIDEO_NIGHT="SHORT_VIDEO_NIGHT",e.DRAWER="DRAWER",e.DARK_DRAWER="DARK_DRAWER",e.DARK_STANDALONE="DARK_STANDALONE",e.PORTAL="PORTAL"}(r||(r={}))},5035:(e,t,n)=>{"use strict";n.d(t,{yM:()=>s,Zd:()=>u,rz:()=>a,I$:()=>c});n(4072),n(3208),n(3311);var r=n(7131);const o=e=>{try{return decodeURIComponent(e)}catch(e){return null}},i=/[?&]([^&#]*)/,s="repostId",a=e=>{const t={},n=e.indexOf("?");if(-1===n)return t;let r=n;for(;;){const n=e.slice(r).match(i);if(!n)break;r+=n[0].length;const[s,a]=n[1].split("=");if(!s||!a)continue;const c=o(s),u=o(a);c&&u&&(t[c]=u)}return t},c=e=>{const t=(0,r.u)(e);return 0===t.length?"":t.reduce(((t,n)=>{const r=e[n];return n&&void 0!==r?`${t}${0===t.length?"?":"&"}${encodeURIComponent(n)}=${encodeURIComponent(r)}`:t}),"")},u=(e,t)=>{const n=Object.assign({},a(e),t),r=e.indexOf("?"),o=e.indexOf("#"),i=-1!==o?o:e.length,s=-1!==r?r:i;return e.slice(0,s)+c(n)+e.slice(i)}},569:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var r=n(7175);const o=JSON.parse('{"T":"zen-ui"}'),i=e=>(0,r.N)(`${o.T}-${e}`);i.mix=r.C},994:(e,t,n)=>{"use strict";n.d(t,{BV:()=>a,uB:()=>s});var r=n(9395);var o=n(481),i=n.n(o);const s=e=>{(0,r.G)().set("oAuthToken",(e=>(null==e?void 0:e.replace(/^(OAuth|Bearer)\s+/,""))||"")(e))},a=e=>{const{yaToken:t,zenToken:n,vkToken:r}=e,o={path:"/",domain:".dzen.ru"};t&&(!!i().get("Zen-Authorization")&&i().remove("Zen-Authorization"),i().set("Zen-Authorization",t,o)),n&&(!!i().get("X-Zen-Authorization")&&i().remove("X-Zen-Authorization"),i().set("X-Zen-Authorization",n,o)),r&&(!!i().get("X-Vk-Authorization")&&i().remove("X-Vk-Authorization"),i().set("X-Vk-Authorization",r,o))}},7175:(e,t,n)=>{"use strict";n.d(t,{N:()=>o,C:()=>i});n(4072),n(3208);const r={};for(let e=65;e<91;e++){const t=String.fromCharCode(e);r[t]=`-${t.toLowerCase()}`}const o=e=>(t,n)=>{const[o,i]="string"==typeof t?[t,n]:[null,t];let s=e;return o&&(s+=`__${o}`),i&&Object.keys(i).forEach((e=>{const t=i[e],n=(e=>{const{length:t}=e;let n="";for(let o=0;o<t;o++){const t=e[o];n+=r[t]||t}return n})(e);!0===t?s+=` _${n}`:(0===t||t)&&(s+=` _${n}_${t}`)})),s},i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")};o.mix=i},6932:(e,t,n)=>{"use strict";n.d(t,{P:()=>l});var r=n(4642),o=(n(4072),n(3208),n(7363)),i=n.n(o);const s=e=>{let{width:t,height:n,viewBox:r}=e;const[,,o,i]=r.split(/\s+/).map((e=>parseFloat(e))),s=o/i;return"number"==typeof t?"number"==typeof n?{width:t,height:n}:{width:t,height:t/s}:"number"==typeof n?{width:n*s,height:n}:{width:o,height:i}};var a=n(569);const c=(0,o.createContext)({usedIds:{}}),u=(0,a.N)("generic-svg"),l=e=>{let{symbol:t,height:n,width:l,fill:d,fillOpacity:p,className:m,useClassName:h,svgTop:f=0,svgRight:g=0,svgBottom:v=0,svgLeft:y=0,svgStyle:b={},ariaLabel:w}=e;(0,o.useContext)(c);const{svgSizeProps:S,svgWidth:C,svgHeight:I,id:E}=(0,o.useMemo)((()=>{const{id:e,viewBox:r}=t,[,,o,i]=r.split(/\s+/).map((e=>parseFloat(e)));return{svgSizeProps:s({height:n,width:l,viewBox:`0 0 ${o+y+g} ${i+f+v}`}),svgWidth:o,svgHeight:i,id:e}}),[t,n,l,y,g,f,v]);return i().createElement("svg",(0,r.Z)({className:a.N.mix(u(),m)},S,{fill:d,fillOpacity:p,viewBox:[0,0,C+y+g,I+f+v].join(" "),style:b,"aria-label":w}),i().createElement("use",{x:y,y:f,width:C,height:I,className:a.N.mix(u("use"),h),xlinkHref:`#${E}`}))}},3081:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});const r=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}},7131:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});const r=e=>Object.keys(e)},4734:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var r=n(7175);const o=(e,t)=>{const n=Object.keys(t),o=Object.assign({},e);for(let i=0;i<n.length;i++){const s=n[i];switch(s){case"className":o[s]=(0,r.C)(t.className,e.className);break;case"style":o[s]=Object.assign({},e.style,t.style);break;default:{const n=t[s],r=e[s];"on"===s.slice(0,"on".length)&&(o[s]=e=>{"function"==typeof n&&n(e),"function"==typeof r&&r(e)})}}}return o}},9395:(e,t,n)=>{"use strict";n.d(t,{$o:()=>m,G:()=>l});var r=n(5678);n(4072),n(3208);var o=n(698);class i{constructor(e,t,n){this.getStorage=e,this.prefix=t,this.version=n}set(e,t,n){const r=this.pullData();r[e]=t,n&&function(e,t,n){t._expired||(t._expired={}),t._expired[e]=Date.now()+n}(e,r,n),this.pushData(r)}get(e){if(!function(e,t){if(!t._expired||!t._expired[e])return!1;const n=t._expired[e];return Date.now()-n>=0}(e,this.pullData()))return this.pullData()[e];this.delete(e)}delete(e){const t=this.pullData();Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],function(e,t){t._expired&&delete t._expired[e]}(e,t),this.pushData(t))}clear(){const e={version:this.version};this.pushData(e)}pullData(){try{const e=String(this.getStorage().getItem(this.prefix)),t=JSON.parse(e)||{};return t.version=this.version,t}catch(e){return o.kg.error(e),{version:this.version}}}pushData(e){try{const t=JSON.stringify(e);this.getStorage().setItem(this.prefix,t)}catch(e){o.kg.error(e)}}}class s{constructor(e){void 0===e&&(e={}),this.items=new Map(Object.entries(e))}get length(){return this.items.size}clear(){this.items.clear()}getItem(e){var t;return null!=(t=this.items.get(e))?t:null}setItem(e,t){this.items.set(e,t)}removeItem(e){this.items.delete(e)}key(e){var t;return null!=(t=[...this.items.keys()][e])?t:null}}class a extends s{constructor(e){super(Object.assign({},e)),this.storage=e}clear(){super.clear(),this.storage.clear()}getItem(e){var t;return null!=(t=this.items.get(e))?t:null}setItem(e,t){super.setItem(e,t),this.storage.setItem(e,t)}removeItem(e){super.removeItem(e),this.storage.removeItem(e)}}const c=(0,r.h)((()=>new a(window.sessionStorage))),u=(0,r.h)((()=>new s)),l=(0,r.h)((()=>{if("undefined"==typeof window)throw new Error("try fire getSessionStorage on server");return new i((()=>function(e){if(void 0===e&&(e=!1),"undefined"==typeof window)throw new Error("try fire getWindowSessionStorage on server");return window.sessionStorage?e?c():window.sessionStorage:u()}()),"zen","1")})),d=(0,r.h)((()=>new a(window.localStorage))),p=(0,r.h)((()=>new s)),m=(0,r.h)((()=>new i((()=>{return void 0===e&&(e=!1),h()&&window.localStorage?e?d():window.localStorage:p();var e}),"zen","2"))),h=()=>{try{return window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),!0}catch(e){return!1}}},8647:(e,t,n)=>{"use strict";n.d(t,{AF:()=>s,kC:()=>c});n(4072);var r=n(8156),o=n(5035),i=n(9395);const s=e=>`${e}${Math.random().toString(36).substr(2)}`,a=(e,t,n)=>"opener"===e?((e,t)=>new Promise((n=>{const r=e=>{(e.data&&e.data.authKey)===t&&(o&&o.close(),window.removeEventListener("message",r),n())},o=window.open(e,"_blank");window.addEventListener("message",r)})))(t,n):((e,t,n)=>new Promise((r=>{const o=()=>{n.get(t)===t&&(n.delete(t),i&&i.close(),window.removeEventListener("storage",o),r())},i=window.open(e,"_blank");window.addEventListener("storage",o)})))(t,n,"sessionStorage"===e?(0,i.G)():(0,i.$o)()),c=e=>{let{keyPrefix:t="",method:n="opener",domikLink:i,pathToLoginHtml:c,origin:u}=e;const l=s(t),d=((e,t,n)=>{var i;return e+(0,o.I$)({origin:n||"zen",mode:"edit",retpath:null!=(i=location)&&i.hostname.endsWith("dzen.ru")?`https://sso.passport.yandex.ru/push${(0,o.I$)({uuid:(0,r.Z)(),retpath:t})}`:t})})(i,`${c}login.html?key=${l}`,u);return a(n,d,l)}},5678:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});const r=e=>{let t,n=!1;return function(){return n||(n=!0,t=e(...arguments)),t}}},7058:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});const r=(e,t)=>Object.keys(t).reduce(((e,n)=>{const r=t[n];return void 0===r?e:e.replace(n,r)}),e)},3432:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ZenImageViewer:()=>ke});var r=n(4642),o=(n(4072),n(3208),n(7363)),i=n.n(o),s=(n(3311),n(3405));const a=e=>{let{pageX:t,pageY:n,clientX:r,clientY:o}=e;return{x:t,y:n,clientX:r,clientY:o}};let c=!1;class u{constructor(e){this.listensOnDocument=!1,this.touches=[],this.previousTouches=[],this.clickHandler=e=>{this.onClick(e)},this.touchStartHandler=e=>{this.onTouchStart(e),this.previousTouches=[...this.touches]},this.mouseDownHandler=e=>{this.onMouseDown(e),this.previousTouches=[...this.touches]},this.touchMoveHandler=e=>{this.onTouchMove(e),this.previousTouches=[...this.touches]},this.mouseMoveHandler=e=>{this.onMouseMove(e),this.previousTouches=[...this.touches]},this.touchEndHandler=e=>{this.removeEndedTouches(e.changedTouches),this.onTouchEnd(e),this.previousTouches=[...this.touches]},this.mouseCancelHandler=e=>{this.onMouseUp(e),this.previousTouches=[...this.touches]},this.mouseUpHandler=e=>{this.onMouseUp(e),this.previousTouches=[...this.touches]},this.touchCancelHandler=e=>{this.onTouchCancel(e)};const{el:t}=e;this.props=e,c||(c=!0,"undefined"!=typeof document&&document.addEventListener("touchmove",(()=>{}),{passive:!1})),t.addEventListener("touchstart",this.touchStartHandler),t.addEventListener("touchend",this.touchEndHandler),t.addEventListener("touchcancel",this.touchCancelHandler),t.addEventListener("click",this.clickHandler,{capture:!0}),this.canUseMouseEvents()&&(t.addEventListener("mousedown",this.mouseDownHandler),t.addEventListener("mouseup",this.mouseUpHandler))}canUseTouchEvents(){return"ontouchstart"in window}canUseMouseEvents(){return!this.canUseTouchEvents()&&Boolean(this.props.isMouseFallbackAllowed)}removeListeners(e){let{removeDocumentListeners:t}=void 0===e?{removeDocumentListeners:!1}:e;const{el:n}=this.props;n.removeEventListener("touchstart",this.touchStartHandler),n.removeEventListener("touchend",this.touchEndHandler),n.removeEventListener("touchcancel",this.touchCancelHandler),n.removeEventListener("click",this.clickHandler,{capture:!0}),document.removeEventListener("touchmove",this.touchMoveHandler),document.removeEventListener("touchend",this.touchEndHandler),this.canUseMouseEvents()&&(n.removeEventListener("mousedown",this.mouseDownHandler),n.removeEventListener("mouseup",this.mouseUpHandler)),t&&this.listensOnDocument&&(this.listensOnDocument=!1,document.removeEventListener("touchmove",this.touchMoveHandler),document.removeEventListener("touchend",this.touchEndHandler),document.removeEventListener("mousemove",this.mouseMoveHandler),document.removeEventListener("contextmenu",this.mouseCancelHandler),document.removeEventListener("mouseleave",this.mouseCancelHandler),document.removeEventListener("mouseup",this.mouseUpHandler))}onClick(e){}onTouchStart(e){this.touches.push(...e.changedTouches),this.listensOnDocument||(this.listensOnDocument=!0,document.addEventListener("touchmove",this.touchMoveHandler,{passive:!1}),this.props.el.removeEventListener("touchend",this.touchEndHandler),document.addEventListener("touchend",this.touchEndHandler))}onMouseDown(e){const{pageX:t,pageY:n,clientX:r,clientY:o}=e;this.touches=[{identifier:0,pageX:t,pageY:n,clientX:r,clientY:o}],this.listensOnDocument||(this.listensOnDocument=!0,this.props.el.removeEventListener("mouseup",this.mouseUpHandler),document.addEventListener("mousemove",this.mouseMoveHandler),document.addEventListener("mouseleave",this.mouseCancelHandler),document.addEventListener("contextmenu",this.mouseCancelHandler),document.addEventListener("mouseup",this.mouseUpHandler))}updateChangedTouches(e){for(const t of e){const e=this.touches.findIndex((e=>{let{identifier:n}=e;return t.identifier===n}));e>-1&&(this.touches[e]=t)}}onTouchMove(e){this.updateChangedTouches(e.changedTouches)}onMouseMove(e){const{pageX:t,pageY:n,clientX:r,clientY:o}=e;this.touches.splice(0,1,{identifier:0,pageX:t,pageY:n,clientX:r,clientY:o})}removeEndedTouches(e){const t=Object.create(null);for(const{identifier:n}of e)t[n]=!0;this.touches=this.touches.filter((e=>{let{identifier:n}=e;return void 0!==n&&!t[n]})),this.touches.length||(this.listensOnDocument=!1,document.removeEventListener("touchmove",this.touchMoveHandler),this.props.el.addEventListener("touchend",this.touchEndHandler),document.removeEventListener("touchend",this.touchEndHandler))}onTouchEnd(e){const{onPointerUp:t}=this.props;t&&t()}stopListenMouseEventsOnDocument(){this.listensOnDocument=!1,document.removeEventListener("mousemove",this.mouseMoveHandler),document.removeEventListener("mouseup",this.mouseUpHandler),document.removeEventListener("contextmenu",this.mouseCancelHandler),document.removeEventListener("mouseleave",this.mouseCancelHandler),this.props.el.addEventListener("mouseup",this.mouseUpHandler)}onMouseUp(e){this.touches.splice(0,1);const{onPointerUp:t}=this.props;t&&t(),this.stopListenMouseEventsOnDocument()}onTouchCancel(e){let{changedTouches:t}=e;this.removeEndedTouches(t)}}const l=e=>class extends e{constructor(e){super(e),this.startPinchDistance=0,this.isPinchInProgress=!1,this.longTapTimeoutId=void 0,this.props=e}isTwoTouchesGesture(){return 2===this.touches.length}onTouchStart(e){if(super.onTouchStart(e),!this.isTwoTouchesGesture())return;const t=a(this.touches[0]),n=a(this.touches[1]);this.startPinchDistance=d(t,n),this.isPinchInProgress=!0;const{onLongDoubleTap:r}=this.props;r&&(this.longTapTimeoutId=window.setTimeout((()=>{r()}),500));const{onPinchStart:o}=this.props;o&&o(this.getPinchEvent())}onTouchMove(e){if(super.onTouchMove(e),window.clearTimeout(this.longTapTimeoutId),!this.isTwoTouchesGesture()||!this.isPinchInProgress)return;const{onPinchChange:t}=this.props;t&&t(this.getPinchEvent())}onTouchEnd(e){if(super.onTouchEnd(e),window.clearTimeout(this.longTapTimeoutId),!this.isPinchInProgress)return;this.isPinchInProgress=!1;const{onPinchEnd:t}=this.props;t&&t(this.getPinchEvent(this.previousTouches))}getPinchEvent(e){void 0===e&&(e=this.touches);const[t,n]=e,r=a(t),o=a(n),i=d(r,o);return{distance:i,center:p(r,o),scale:i/this.startPinchDistance,touches:[t,n]}}},d=(e,t)=>Math.hypot(e.x-t.x,e.y-t.y),p=(e,t)=>({x:(e.x+t.x)/2,y:(e.y+t.y)/2,clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}),m=["onDragStart","onDrag","onDragEnd","onLongTap","isVerticalDragAllowed","alwaysPreventDefaultTouchEvents"],h=l(u),f=l(class extends u{constructor(e){super(e),this.isTouchStartPrevented=!1,this.isFirstDragEvent=!0,this.isOnePointerDown=!1,this.isDraggingAllowed=!0,this.startPositionX=0,this.startPositionY=0,this.currentPositionX=0,this.currentPositionY=0,this.velocityX=0,this.velocityY=0,this.touchStartTimestamp=0,this.shouldPreventNextClick=!1,this.clickPreventionTimerId=void 0,this.longTapTimeoutId=void 0,this.wasLongTap=!1,this.onClick=e=>{super.onClick(e),this.shouldPreventNextClick&&(this.shouldPreventNextClick=!1,window.clearTimeout(this.clickPreventionTimerId),e.stopPropagation(),e.preventDefault()),this.resetPositions()},this.props=e}initPositions(e){let{x:t,y:n}=e;this.startPositionX=t,this.currentPositionX=t,this.startPositionY=n,this.currentPositionY=n}getDeltaX(){return this.currentPositionX-this.startPositionX}getDeltaY(){return this.currentPositionY-this.startPositionY}resetPositions(){this.velocityX=0,this.velocityY=0,this.currentPositionY=0,this.currentPositionX=0,this.startPositionX=0,this.startPositionY=0}getDragEvent(){return{startX:this.startPositionX,startY:this.startPositionY,deltaX:this.getDeltaX(),deltaY:this.getDeltaY(),pageX:this.currentPositionX,pageY:this.currentPositionY,velocityX:this.velocityX,velocityY:this.velocityY}}isSingleTouchGesture(){return 1===this.touches.length}processTouchStart(){this.isOnePointerDown=!0,this.touchStartTimestamp=Date.now(),this.initPositions(a(this.touches[0]));const{onLongTap:e}=this.props;e&&(this.longTapTimeoutId=window.setTimeout((()=>{this.isSingleTouchGesture()&&(e(a(this.touches[0])),this.wasLongTap=!0)}),400))}preventSwipeToNavigate(e){const{clientX:t}=this.touches[0],n=(0,s.h)(),r=10/n,o=(document.documentElement.clientWidth-10)/n;if(t<=r||t>=o){const t=e.target;if(["BUTTON","A"].includes(t.tagName)||t.getAttribute&&"button"===t.getAttribute("role"))return;e.cancelable&&(e.preventDefault(),this.isTouchStartPrevented=!0)}}onTouchStart(e){if(super.onTouchStart(e),!this.isSingleTouchGesture())return this.isOnePointerDown=!1,window.clearTimeout(this.longTapTimeoutId),void(this.isDraggingAllowed=!1);this.preventSwipeToNavigate(e),this.processTouchStart()}onMouseDown(e){super.onMouseDown(e),this.processTouchStart()}processMove(e){if(!this.isOnePointerDown)return;const{pageX:t,pageY:n}=this.touches[0];this.currentPositionX=t,this.currentPositionY=n;const r=Math.abs(this.getDeltaX()),o=Math.abs(this.getDeltaY());if(this.isFirstDragEvent){if(!this.isTouchStartPrevented&&!this.props.isVerticalDragAllowed&&r<o)return void(this.isDraggingAllowed=!1);this.isTouchStartPrevented=!1,this.isFirstDragEvent=!1;const{onDragStart:e}=this.props;e&&e(this.getDragEvent())}if(e.cancelable&&e.preventDefault(),(r>5||o>5)&&window.clearTimeout(this.longTapTimeoutId),!this.isDraggingAllowed)return;const i=Date.now();this.velocityX=r/(i-this.touchStartTimestamp)||0,this.velocityY=o/(i-this.touchStartTimestamp)||0;const{onDrag:s}=this.props;s&&s(this.getDragEvent())}onTouchMove(e){const t=this.props.alwaysPreventDefaultTouchEvents;t&&e.preventDefault(),super.onTouchMove(e),this.isSingleTouchGesture()&&(!t&&this.wasLongTap&&e.cancelable&&e.preventDefault(),this.processMove(e))}onMouseMove(e){super.onMouseMove(e),this.processMove(e)}finishDragging(){if(this.preventClickIfNecessary(),this.isOnePointerDown&&this.isDraggingAllowed){const{onDragEnd:e}=this.props;e&&e(this.getDragEvent())}this.touches.length||(this.isDraggingAllowed=!0,this.isOnePointerDown=!1,this.isFirstDragEvent=!0,this.wasLongTap=!1,this.resetPositions())}preventClickIfNecessary(){const e=Math.abs(this.getDeltaX()),t=Math.abs(this.getDeltaY());(e>2||t>2)&&(window.clearTimeout(this.clickPreventionTimerId),this.shouldPreventNextClick=!0,this.clickPreventionTimerId=window.setTimeout((()=>{this.shouldPreventNextClick=!1}),100))}onTouchEnd(e){super.onTouchEnd(e),this.finishDragging()}onMouseUp(e){super.onMouseUp(e),this.finishDragging()}onTouchCancel(e){super.onTouchCancel(e),this.finishDragging()}}),g=e=>{(0,o.useEffect)((()=>{if(!e.el.current||e.isDisabled)return;const t=e.el.current,n=(r=Object.assign({},e,{el:t}),new(m.some((e=>e in r))?f:h)(r));var r;return()=>{var t;n.removeListeners({removeDocumentListeners:null!=(t=e.removeDocumentListenersOnUnmount)&&t})}}),[e])};let v,y,b=0,w=0,S=0;const C=(e,t)=>{b++,1===b&&((e,t)=>{const n=e.document.body,r=n.classList.contains("scroll-disabled");v=r?"":e.getComputedStyle(n).overflow,y=r?"":e.getComputedStyle(n).position,S=e.pageXOffset,w=e.pageYOffset,n.style.overflow="hidden",n.style.position=t?"sticky":"fixed",n.style.top=`-${w}px`,n.style.left=`-${S}px`,n.style.right="0"})(e,t)},I=e=>{b--,0===b&&(e=>{const t=e.document.body;t.style.overflow=v,t.style.position=y,t.style.top="",t.style.left="",t.style.right="",e.scroll(S,w)})(e)};var E=n(469),_=n(7950);const O=300;var k=n(9549),x=n(7238),P=n(9649),T=n(5122),D=n(9112),R=n(698);const A="function"==typeof Float32Array,j=(e,t)=>1-3*t+3*e,N=(e,t)=>3*t-6*e,M=e=>3*e,L=(e,t,n)=>((j(t,n)*e+N(t,n))*e+M(t))*e,U=(e,t,n)=>3*j(t,n)*e*e+2*N(t,n)*e+M(t),B=e=>e,z={easeOut:e=>t=>1-e(1-t),easeInOut:e=>t=>t<.5?e(2*t)/2:(2-e(2*(1-t)))/2,none:e=>e},H={linear:e=>e,quad:e=>e*e,circ:e=>1-Math.sin(Math.acos(e)),cubicBezier:((e,t,n,r)=>{if(!(e>=0&&e<=1&&n>=0&&n<=1))return R.kg.error("bezier x values must be in [0, 1] range"),B;if(e===t&&n===r)return B;const o=A?new Float32Array(11):new Array(11);for(let t=0;t<11;++t)o[t]=L(.1*t,e,n);return i=>0===i||1===i?i:L((t=>{let r=0,i=1;for(;10!==i&&o[i]<=t;++i)r+=.1;--i;const s=r+(t-o[i])/(o[i+1]-o[i])*.1,a=U(s,e,n);return a>=.001?((e,t,n,r)=>{let o=t;for(let t=0;t<4;++t){const t=U(o,n,r);if(0===t)return o;o-=(L(o,n,r)-e)/t}return o})(t,s,e,n):0===a?s:((e,t,n,r,o)=>{let i,s,a=0,c=t,u=n;do{s=c+(u-c)/2,i=L(s,r,o)-e,i>0?u=s:c=s}while(Math.abs(i)>1e-7&&++a<10);return s})(t,r,r+.1,e,n)})(i),t,r)})(.4,0,.22,1)};var F=n(7333),$=n(3460),W=n.n($);var X=n(8007),Y=n(2682);const q=e=>setTimeout((()=>{e()}),50),Z=e=>(e&&clearTimeout(e),null),G=.35,V=function(e){let{initialBackdropOpacity:t=0}=void 0===e?{}:e;return{wasResized:!1,isInitialized:!1,isShowingUI:!0,isClosing:!1,isScaled:!1,preventUserActions:!1,isClosedByDrag:!1,wasDraggedDown:!1,backdropOpacity:t,viewportSize:{innerW:0,innerH:0},dragLimits:{minX:0,maxX:0,minY:0,maxY:0},zoomPositions:[{x:0,y:0,scale:0},{x:0,y:0,scale:0},{x:0,y:0,scale:0}],itemsScrollX:0,itemXPositions:[0,0,0],velocity:{velocityX:0,velocityY:0,prevX:0,prevY:0,lastStallingX:0,lastStallingY:0,stallingFrames:3},slideSize:0,slideSpacing:30}};var K=n(4452);const J=(e,t)=>{const{x:n,y:r}=e.current.zoomPositions[t],{prevX:o,prevY:i}=e.current.velocity;e.current.velocity.velocityX=n-o,e.current.velocity.velocityY=r-i,e.current.velocity.prevX=n,e.current.velocity.prevY=r},Q=(e,t,n)=>{let r=e;return e<t?r=t-(t-e)*G:e>n&&(r=n+(e-n)*G),r},ee=e=>{let{stateRef:t,handleChangePosition:n,setIsShowingUI:r,dragStateRef:i,imagePropertiesRef:s,runCalcSlowDownAnimation:a,memoRef:c}=e;return{onDrag:(0,o.useCallback)(((e,o)=>{const{memoCurrSlideIndex:s,memoIsSrcLoaded:a,memoSlideInfos:u}=c.current,l=u[s].imageRef;return!!i.current.isMultiWayDrag&&(a&&(e=>{let{deltaX:t,deltaY:n,dragStateRef:r,stateRef:o,viewedImageRef:i,currItemIndex:s,setIsShowingUI:a,handleChangePosition:c}=e;J(o,s);const{x:u,y:l,scale:d}=r.current.initialZoomWrapperPosition,{canChangeDragType:p}=r.current,{minX:m,minY:h,maxX:f,maxY:g}=o.current.dragLimits;let v=u+t,y=l+n;const b=Math.abs(t),w=Math.abs(n),{innerW:S,innerH:C}=o.current.viewportSize,{width:I,height:E}=(0,K.j)(i.current);I*d>S?v=Q(v,m,f):(p&&b>w&&b>5&&(r.current.isItemsScroll=!0,r.current.isMultiWayDrag=!1,r.current.isVerticalDrag=!1),v=u),E*d>C?y=Q(y,h,g):(p&&w>b&&w>5&&(a(!1),r.current.isMultiWayDrag=!1,r.current.isVerticalDrag=!0),y=l),p&&(b>10||w>10)&&(r.current.canChangeDragType=!1),c({x:v,y,scale:d})})({deltaX:e,deltaY:o,currItemIndex:s,viewedImageRef:l,setIsShowingUI:r,stateRef:t,dragStateRef:i,handleChangePosition:n}),!0)}),[i,c,n,t,r]),finishDrag:(0,o.useCallback)((e=>{let{wasMultiWayDrag:r,wasVerticalDrag:o,wasItemsScroll:i}=e;const{memoCurrSlideIndex:u,memoSlideInfos:l,memoWithDesktopPaddings:d}=c.current,p=l[u].imageRef,{maxScale:m}=s.current[u];return r?((0,X.fp)({maxScale:m,stateRef:t,currItemIndex:u,viewedImageRef:p,handleChangePosition:n,runCalcSlowDownAnimation:a,quickAnimation:!0,withDesktopPaddings:d,isEnable:!0}),!0):!i&&!o&&((0,X.fp)({maxScale:m,viewedImageRef:p,stateRef:t,currItemIndex:u,handleChangePosition:n,backdropFadeIn:!0,withDesktopPaddings:d,isEnable:!0}),!0)}),[c,n,s,a,t])}},te=e=>{let{stateRef:t,handleChangePosition:n,backdropRef:r,setIsShowingUI:i,onClose:s,dragStateRef:a,imagePropertiesRef:c,runCalcSlowDownAnimation:u,handleChangeItemsScroll:l,changeSlide:d,memoRef:p}=e;const{finishDrag:m,onDrag:h}=ee({stateRef:t,handleChangePosition:n,backdropRef:r,setIsShowingUI:i,onClose:s,dragStateRef:a,imagePropertiesRef:c,runCalcSlowDownAnimation:u,handleChangeItemsScroll:l,changeSlide:d,memoRef:p}),f=(0,X.I_)(p.current.memoSlideInfos[p.current.memoCurrSlideIndex].mediaData),{finishScaleDrag:g,onScaleDrag:v}=(0,o.useMemo)((()=>f?{finishScaleDrag:m,onScaleDrag:h}:{finishScaleDrag:T.c,onScaleDrag:T.c}),[m,h,f]),y=(0,o.useCallback)((e=>{if(!a.current.isDragging)return;const{deltaX:o,deltaY:s}=e;if(0===o&&0===s)return;const{memoCurrSlideIndex:c,memoIsSrcLoaded:d,memoSlideInfos:m}=p.current,h=m[c].imageRef;if(a.current.isInitial&&(e=>{let{dragStateRef:t,stateRef:n,deltaX:r,deltaY:o,setIsShowingUI:i,runCalcSlowDownAnimation:s,viewedImageRef:a,memoRef:c}=e;const{memoCurrSlideIndex:u,memoIsSrcLoaded:l}=c.current;if(t.current.initialZoomWrapperPosition=Object.assign({},n.current.zoomPositions[u]),t.current.initialItemsScrollX=n.current.itemsScrollX,n.current.isScaled){s(!0),t.current.isMultiWayDrag=!0;const{width:e,height:r}=(0,K.j)(a.current),{scale:o}=t.current.initialZoomWrapperPosition,{innerW:i,innerH:c}=n.current.viewportSize;n.current.dragLimits.minX=i-e*o,n.current.dragLimits.minY=c-r*o}else t.current.isVerticalDrag=Math.abs(o)>=Math.abs(r),t.current.isVerticalDrag?l&&i(!1):t.current.isItemsScroll=!0;t.current.isInitial=!1})({deltaX:o,deltaY:s,dragStateRef:a,stateRef:t,setIsShowingUI:i,runCalcSlowDownAnimation:u,viewedImageRef:h,memoRef:p}),v(o,s))return;if(a.current.isVerticalDrag)return void(d&&(e=>{let{deltaY:t,dragStateRef:n,stateRef:r,backdropRef:o,handleChangePosition:i}=e;const{innerH:s}=r.current.viewportSize,a=.03*s,c=.11*s,u=Math.abs(t),l=Math.min(1,(u-Math.min(u,a))/c),d=Math.max(0,1-l),{x:p,y:m,scale:h}=n.current.initialZoomWrapperPosition,f=m+.8*t;(0,D.d)(o,{opacity:`${d}`}),i({x:p,y:f,scale:h}),r.current.backdropOpacity=d})({deltaY:s,handleChangePosition:n,dragStateRef:a,backdropRef:r,stateRef:t}));const{memoMaxImages:f,memoCurrMediaIndex:g}=p.current;(e=>{let{deltaX:t,dragStateRef:n,handleChangePosition:r,handleChangeItemsScroll:o,maxImages:i,currMediaIndex:s}=e;if(((e,t)=>{const{lastDeltaX:n}=t.current.scrollDirection;t.current.scrollDirection.direction=e-n,t.current.scrollDirection.lastDeltaX=e})(t,n),n.current.isItemsScroll){const{direction:e}=n.current.scrollDirection,r=t<0,a=r?s+1<i:s>0;n.current.canChangeSlide=a&&(!e||(r?e<0:e>0));const c=a?t:t*G;o(n.current.initialItemsScrollX+c)}else{const{x:e,y:o,scale:i}=n.current.initialZoomWrapperPosition;r({x:e+t*G,y:o,scale:i})}})({deltaX:o,handleChangePosition:n,dragStateRef:a,handleChangeItemsScroll:l,maxImages:f,currMediaIndex:g})}),[a,p,n,l,t,i,u,r,v]),b=(0,o.useCallback)((function(e){void 0===e&&(e={skipAdjustments:!1});const{isDragging:r,isVerticalDrag:o,initialZoomWrapperPosition:i,isItemsScroll:m,initialItemsScrollX:h,isMultiWayDrag:f,canChangeSlide:v}=a.current;a.current={isInitial:!0,isDragging:!1,isVerticalDrag:!1,isItemsScroll:!1,canChangeSlide:!1,isMultiWayDrag:!1,canChangeDragType:!0,initialZoomWrapperPosition:{x:0,y:0,scale:0},scrollDirection:{lastDeltaX:0,direction:0},initialItemsScrollX:0};const{memoCurrSlideIndex:y,memoSlideInfos:b,memoWithDesktopPaddings:w,memoIsMobile:S}=p.current,C=b[y].imageRef;if(e.skipAdjustments)return void u(!1);if(!r)return;const{maxScale:I}=c.current[y];if(f||u(!1),!g({wasItemsScroll:m,wasMultiWayDrag:f,wasVerticalDrag:o})){if(o){if(t.current.backdropOpacity){const{mediaData:e}=b[y],r=!S&&(0,X.Nb)(e);return void(0,X.fp)({maxScale:I,viewedImageRef:C,stateRef:t,currItemIndex:y,handleChangePosition:n,backdropFadeIn:!0,showUIOnFinish:!0,quickAnimation:!1,withDesktopPaddings:w,isEnable:(0,X.Cx)(e)||r})}return t.current.isClosedByDrag=!0,t.current.wasDraggedDown=i.y<t.current.zoomPositions[y].y,void s()}if(m){const{itemsScrollX:e,slideSpacing:n}=t.current,r=Math.abs(h-e)>n;v&&r?d(h,e):l(h,{animated:!0,preventUserActions:!0})}}}),[a,p,c,u,g,t,s,n,d,l]),w=(0,o.useCallback)((()=>{u(!1),t.current.preventUserActions||(a.current.isDragging?b():(a.current.isDragging=!0,a.current.isInitial=!0))}),[a,u,t,b]);return{onDrag:y,onDragEnd:(0,o.useCallback)((()=>{b()}),[b]),onDragStart:w,finishDrag:b}};var ne=n(2436);var re=n(8628);var oe=n(1554);const ie=e=>{const t=(e=>{let{stateRef:t,handleChangePosition:n,dragStateRef:r,setIsShowingUI:i,imagePropertiesRef:s,upscaleImage:a,bringImageToCenter:c,changeSlideTo:u,runCalcSlowDownAnimation:l,memoRef:d,toggleUiOnClick:p}=e;const m=(0,o.useCallback)((()=>{l(!1);const{memoIsSrcLoaded:e,memoIsMobile:n}=d.current;!t.current.preventUserActions&&e&&(n||u(1),p&&i(!t.current.isShowingUI))}),[u,d,l,i,t,p]),h=(0,o.useCallback)((e=>{(0,re.PF)(e);const{memoIsSrcLoaded:o,memoCurrSlideIndex:i,memoSlideInfos:u,memoWithDesktopPaddings:p}=d.current;if(!t.current.preventUserActions&&!r.current.isDragging&&o)if(l(!1),t.current.isScaled)c();else{const r=u[i].imageRef,{clientX:o,clientY:c}=e;(0,K.F)({clientX:o,clientY:c,upscaleImage:a,stateRef:t,viewedImageRef:r,currItemIndex:i,imageProperties:s.current[i],handleChangePosition:n,withDesktopPaddings:p})}}),[c,d,r,n,s,l,t,a]);return(0,o.useMemo)((()=>({onOneClick:m,onDoubleClick:h})),[m,h])})(e),n=(e=>{let{runCalcSlowDownAnimation:t}=e;const n=(0,o.useCallback)((()=>{t(!1)}),[t]),r=(0,o.useCallback)((e=>{(0,re.PF)(e),t(!1)}),[t]);return(0,o.useMemo)((()=>({onOneClick:n,onDoubleClick:r})),[n,r])})(e);return(0,o.useMemo)((()=>e.type===oe.D.IMAGE?t:n),[e.type,t,n])};var se=n(7755);const ae=e=>{let{stateRef:t,memoRef:n,dragStateRef:r,handleChangePosition:i}=e;const s=(0,o.useCallback)((()=>{const{memoCurrSlideIndex:e}=n.current,{x:r,y:o}=t.current.zoomPositions[e];t.current.velocity={velocityX:0,velocityY:0,prevX:0,prevY:0,lastStallingX:0,lastStallingY:0,stallingFrames:3},t.current.velocity.prevX=r,t.current.velocity.prevY=o}),[n,t]),[a,c]=function(e,t){void 0===t&&(t=!0);var n=(0,o.useRef)(null),r=(0,o.useRef)(!1),i=(0,o.useRef)(e);i.current=e;var s=(0,o.useCallback)((function(e){r.current&&(i.current(e),n.current=requestAnimationFrame(s))}),[]),a=(0,o.useMemo)((function(){return[function(){r.current&&(r.current=!1,n.current&&cancelAnimationFrame(n.current))},function(){r.current||(r.current=!0,n.current=requestAnimationFrame(s))},function(){return r.current}]}),[]);return(0,o.useEffect)((function(){return t&&a[1](),a[0]}),[]),a}((()=>{if(r.current.isDragging)((e,t)=>{const{lastStallingX:n,lastStallingY:r,prevX:o,prevY:i}=e.current.velocity;if(n===o&&r===i){if(e.current.velocity.stallingFrames-=1,e.current.velocity.stallingFrames<=0){const{memoCurrSlideIndex:n}=t.current;J(e,n),e.current.velocity.stallingFrames=3}}else e.current.velocity.lastStallingX=o,e.current.velocity.lastStallingY=i,e.current.velocity.stallingFrames=3})(t,n);else{if(!t.current.isScaled)return s(),a();{const{velocityX:e,velocityY:r}=t.current.velocity;if(Math.abs(e)<.5&&Math.abs(r)<.5)return s(),a();const{x:o,y:c,scale:u}=((e,t,n,r)=>{const{memoCurrSlideIndex:o,memoSlideInfos:i}=n.current,s=i[o].imageRef,{x:a,y:c,scale:u}=r.current.zoomPositions[o],{minX:l,minY:d,maxX:p,maxY:m}=r.current.dragLimits,{width:h,height:f}=(0,K.j)(s.current);let g=a+e,v=c+t,y=!1,b=!1;return h*u>window.innerWidth&&(g<l?(y=!0,g=l):g>p&&(y=!0,g=p)),f*u>window.innerHeight&&(v<d?(b=!0,v=d):v>m&&(b=!0,v=m)),r.current.velocity.velocityX*=.8*(y?-.1:1),r.current.velocity.velocityY*=.8*(b?-.1:1),{x:g,y:v,scale:u}})(e,r,n,t);i({x:o,y:c,scale:u})}}}),!1);return(0,o.useCallback)((e=>{s(),e?c():a()}),[s,c,a])},ce=e=>{let{shouldUseHistoryClose:t,isUiAlwaysClickable:n,viewportWrapperRef:r,backdropRef:i,uiRef:s,itemsContainerRef:a,isSrcLoaded:c,setIsClosingAnimationStarted:u,setIsOpenAnimationDone:l,slideInfos:d,getNewSlide:p,currMediaIndex:m,currItemIndex:h,maxImages:f,handleClose:g,withDesktopPaddings:v=!1,toggleUiOnClick:y,isMobile:b,initialBackdropOpacity:w}=e;const S=(0,E.Z)({memoHandleClose:g,memoCurrSlideIndex:h,memoCurrMediaIndex:m,memoIsUiAlwaysClickable:n,memoShouldUseHistoryClose:t,memoGetNewSlide:p,memoMaxImages:f,memoSlideInfos:d,memoIsSrcLoaded:c,memoSetIsClosingAnimationStarted:u,memoSetIsOpenAnimationDone:l,memoWithDesktopPaddings:v,memoIsMobile:b}),[{defaultImageProperties:C,defaultDragState:I,defaultPinchState:O,defaultState:k}]=(0,o.useState)((()=>({defaultImageProperties:S.current.memoSlideInfos.map((e=>Object.assign({},(0,X.nY)({slideInfo:e,withDesktopPaddings:v,isMobile:b})))),defaultState:V({initialBackdropOpacity:w}),defaultDragState:{isInitial:!0,isDragging:!1,isVerticalDrag:!1,isItemsScroll:!1,canChangeSlide:!1,isMultiWayDrag:!1,canChangeDragType:!0,initialZoomWrapperPosition:{x:0,y:0,scale:0},scrollDirection:{lastDeltaX:0,direction:0},initialItemsScrollX:0},defaultPinchState:{isInitial:!0,isPinching:!1,limits:{minScale:1,maxScale:5},initialZoomWrapperPosition:{x:0,y:0,scale:0,prevCenterX:0,prevCenterY:0,panDistX:0,panDistY:0}}}))),x=(0,o.useRef)(k),P=(0,o.useRef)(I),R=(0,o.useRef)(O),A=(0,o.useRef)(C),j=(()=>{const e=(0,o.useRef)(!0);return(0,_.Z)((()=>{e.current=!1})),(0,o.useCallback)(((t,n)=>{let{duration:r,timingType:o="linear",easingType:i="none",timingFunc:s,onFinish:a=T.c}=n;const c=(0,z[i])(s||H[o]);let u=!0;const l=()=>{u=!1};let d=0;return requestAnimationFrame((function n(o){if(!u||!e.current)return void l();d=d||o;let i=(o-d)/r;i>1&&(i=1);const s=c(i);t(s),i<1?requestAnimationFrame(n):(l(),a())})),{cancel:l,skipToEnd:()=>{u&&(l(),e.current&&(t(1),a()))}}}),[])})(),N=(0,o.useCallback)((e=>{const t=x.current.isClosing||P.current.isDragging&&P.current.isVerticalDrag,{memoIsUiAlwaysClickable:n}=S.current;if(e){if(t)return void N(!1);(0,se.am)(s,{opacity:1,animationDuration:200,nonAnimatedStyles:n?void 0:{pointerEvents:"all"},onFinish:()=>{x.current.isShowingUI=!0}})}else(0,se.am)(s,{opacity:0,animationDuration:100,nonAnimatedStyles:n?void 0:{pointerEvents:"none"},onFinish:()=>{x.current.isShowingUI=!1}})}),[S,s]),{handleChangePosition:M,bringCurrentImageToCenter:L,simpleCenterImage:U,putImageBack:B,changeSlide:$,changeSlideTo:G,positionSlidesAndImages:J,handleChangeItemsScroll:Q}=(e=>{let{memoRef:t,stateRef:n,setIsShowingUI:r,animate:i,backdropRef:s,viewportWrapperRef:a,imagePropertiesRef:c,itemsContainerRef:u,dragStateRef:l}=e;const d=(0,o.useCallback)((function(e,o){let{x:a,y:c,scale:u}=e;void 0===o&&(o={});const{memoCurrSlideIndex:l,memoSlideInfos:d}=t.current,{slideIndex:p=l,onFinish:m=T.c,forceChange:h=!1}=o,{zoomRef:f}=d[p],g=n.current.zoomPositions[p],v={x:a,y:c,scale:u};if(!h&&g.x===v.x&&g.y===v.y&&g.scale===v.scale)return void m();const{useCssAnimationsIfPossible:y=!1,preventUserActions:b=!1,showUIOnFinish:w=!1,animated:S=!1,backdropFadeIn:C=!1,quickAnimation:I=!1}=o;if(!S)return n.current.zoomPositions[p]=(0,X.Ao)(f,v),void m();b&&(n.current.preventUserActions=!0);const E=()=>{b&&(n.current.preventUserActions=!1),w&&r(!0),m()},_=I?200:333;if(y&&b)return C&&(0,se.am)(s,{opacity:1,animationDuration:_,onFinish:()=>{n.current.backdropOpacity=1}}),void(0,se.am)(f,{coordinates:v,animationDuration:_,onFinish:()=>{n.current.zoomPositions[p]=v,E()}});i((e=>{n.current.zoomPositions[p]=(0,X.Ao)(f,v,{from:g,progress:e}),C&&(n.current.backdropOpacity=(0,X.Xu)(s,n,!0,{progress:e}))}),{duration:_,timingType:"cubicBezier",onFinish:E})}),[i,s,t,r,n]),p=(0,o.useCallback)((function(e,t){void 0===t&&(t={});const r=n.current.itemsScrollX,{animated:o=!1,preventUserActions:s=!1,onFinish:a=T.c,useCssAnimationsIfPossible:c=!1}=t;if(r===e)return void a();const l={x:r,y:0,scale:1},d={x:e,y:0,scale:1};if(!o){const{x:e}=(0,X.Ao)(u,d);return n.current.itemsScrollX=e,void a()}s&&(n.current.preventUserActions=!0);const p=()=>{n.current.itemsScrollX=e,s&&(n.current.preventUserActions=!1),a()};c&&s?(0,se.am)(u,{coordinates:d,animationDuration:150,onFinish:()=>{p()}}):i((e=>{const{x:t}=(0,X.Ao)(u,d,{from:l,progress:e});n.current.itemsScrollX=t}),{duration:150,timingType:"cubicBezier",onFinish:p})}),[n,i,u]),m=(0,o.useCallback)(((e,r)=>{n.current.preventUserActions=!0,n.current.isScaled=!1;const{memoGetNewSlide:o,memoSlideInfos:i}=t.current,s=r-e,{slideSize:a,slideSpacing:c}=n.current,u=a+c,{itemXPositions:l}=n.current,d=s<0?1:-1;p(d>0?e-u:e+u,{animated:!0,onFinish:()=>{const{newCurrItemX:e,itemToMoveIndex:t}=o(d,l),r=e+u*d;(0,X.Ao)(i[t].itemRef,{x:r,y:0,scale:1}),n.current.itemXPositions[t]=r,n.current.preventUserActions=!1}})}),[p,t,n]),h=(0,o.useCallback)((e=>{if(l.current.isDragging)return;const{itemsScrollX:r,preventUserActions:o}=n.current,{memoMaxImages:i,memoCurrMediaIndex:s}=t.current;return!o&&(0,ne.Z2)(s+e,0,i-1)?m(r,r-e):void 0}),[n,m,t,l]),f=(0,o.useCallback)((function(e){let{onFinish:o=T.c}=void 0===e?{}:e;n.current.preventUserActions=!0,r(!1);const{memoCurrSlideIndex:i,memoSlideInfos:a}=t.current,u=a[i].imageRef,l=a[i].zoomRef;if(!u.current)return void(n.current.preventUserActions=!1);const{y:p,x:m,scale:h}=n.current.zoomPositions[i],f=(0,X.TK)({viewedImageRef:u,centeredData:c.current[i],x:m,y:p,scale:h,handleChangePosition:d}),g={x:m,scale:f,y:n.current.wasDraggedDown?innerHeight+5:-u.current.height*f-5},{isClosedByDrag:v}=n.current,y=v?333:250;(0,se.am)(s,{opacity:0,animationDuration:y}),v&&(0,se.am)(l,{coordinates:g,animationDuration:y}),(0,se.am)(u,{opacity:v?.6:0,animationDuration:y,onFinish:()=>{n.current.backdropOpacity=0,(0,D.d)(u,{opacity:"0"}),o()}})}),[n,r,t,c,d,s]),g=(0,o.useCallback)((e=>{let{slideIndex:r}=e;const{memoSlideInfos:o,memoWithDesktopPaddings:i,memoIsMobile:s}=t.current,u=o[r],l=u.imageRef,{zoomRef:p,mediaData:m}=u,h=!s&&(0,X.Nb)(m);if(!l.current||!p.current||(0,X.Cx)(m)&&!m.data.src)return;const{innerW:f,innerH:g}=(0,X.ue)({stateRef:n,viewportWrapperRef:a}),v=(0,X.nY)({slideInfo:u,withDesktopPaddings:i,isMobile:s}),{centeredWidth:y,centeredHeight:b}=v;c.current[r]=v;const{scale:w,x:S,y:C}=(0,X.Au)({innerW:f,innerH:g,scale:1,width:y,height:b,withDesktopPaddings:i,isEnabled:(0,X.Cx)(m)||h}),I={x:Math.round(S),y:Math.round(C),scale:w};(0,D.d)(l,{width:`${y}px`,height:`${b}px`}),d(I,{slideIndex:r,forceChange:!0})}),[d,c,t,n,a]),v=(0,o.useCallback)((function(e){let{isInitial:o=!1,animated:i=!0,onFinish:u=T.c}=void 0===e?{}:e;const l=t.current.memoCurrSlideIndex,{memoSlideInfos:p,memoSetIsOpenAnimationDone:m,memoWithDesktopPaddings:h,memoIsMobile:f}=t.current,g=p[l].imageRef,{zoomRef:v,mediaData:y}=p[l],b=!f&&(0,X.Nb)(y);if(!g.current||!v.current)return;n.current.preventUserActions=!0;const{centeredWidth:w,centeredHeight:S}=c.current[l],{innerW:C,innerH:I}=(0,X.ue)({stateRef:n,viewportWrapperRef:a}),E=()=>{n.current.isScaled=!1,n.current.preventUserActions=!1,u()},{scale:_,x:O,y:k}=(0,X.Au)({innerW:C,innerH:I,scale:1,width:w,height:S,withDesktopPaddings:h,isEnabled:(0,X.Cx)(y)||b}),x={x:Math.round(O),y:Math.round(k),scale:_};if(c.current[l]=(0,X.nY)({slideInfo:p[l],forceWidth:w,withDesktopPaddings:h,isMobile:f}),!i)return(0,D.d)(g,{width:`${w}px`,height:`${S}px`}),d(x,{slideIndex:l}),void E();if(o){const e=()=>{r(!0),E(),m(!0)};return(0,D.d)(g,{width:`${w}px`,height:`${S}px`,opacity:"0"}),d(x,{slideIndex:l}),(0,se.am)(s,{opacity:1,onFinish:()=>{n.current.backdropOpacity=1}}),void(0,se.am)(g,{scale:1,opacity:1,onFinish:e})}const{x:P,y:R,scale:A}=n.current.zoomPositions[l];n.current.viewportSize={innerW:C,innerH:I};const j=(0,X.TK)({viewedImageRef:g,centeredData:c.current[l],x:P,y:R,scale:A,handleChangePosition:d}),N=()=>{n.current.zoomPositions[l]=x,E()};P!==O||R!==k||j!==_?d(x,{animated:!0,preventUserActions:!0,backdropFadeIn:!0,onFinish:N}):N()}),[t,n,c,a,d,s,r]),y=(0,o.useCallback)((function(e){let{isInitial:r=!1,animated:o=!0}=void 0===e?{}:e;const{memoCurrSlideIndex:i,memoSlideInfos:s,memoIsMobile:u,memoWithDesktopPaddings:l}=t.current,{slideSize:d,slideSpacing:m}=n.current,h=d+m;c.current[i]=(0,X.nY)({slideInfo:s[i],withDesktopPaddings:l,isMobile:u}),v({isInitial:r,animated:o}),(0,X.ue)({stateRef:n,viewportWrapperRef:a});const{slideSize:f,slideSpacing:y}=n.current,b=f+y;if(!r){const{itemsScrollX:e}=n.current;p(e/h*b,{preventUserActions:!0})}let w=-2*b;s.forEach(((e,t)=>{let{itemRef:o}=e;if(r)w+=b;else{const e=n.current.itemXPositions[t];w=e/h*b}(0,X.Ao)(o,{x:w,y:0,scale:1}),n.current.itemXPositions[t]=w,t!==i&&g({slideIndex:t})}))}),[t,n,c,v,a,p,g]);return{handleChangePosition:d,putImageBack:f,bringCurrentImageToCenter:v,simpleCenterImage:g,positionSlidesAndImages:y,changeSlide:m,handleChangeItemsScroll:p,changeSlideTo:h}})({memoRef:S,setIsShowingUI:N,animate:j,backdropRef:i,imagePropertiesRef:A,itemsContainerRef:a,stateRef:x,viewportWrapperRef:r,dragStateRef:P}),ee=(0,o.useCallback)(((e,t,n)=>{var r;const{memoSlideInfos:o,memoCurrSlideIndex:i}=S.current,s=o[i].imageRef,{scaledHeight:a,scaledWidth:c}=A.current[i];(null==(r=s.current)?void 0:r.width)!==c&&((0,D.d)(s,{width:`${c}px`,height:`${a}px`}),M({x:e,y:t,scale:n/c}),A.current[i].maxScale=1)}),[M,S]);(0,o.useEffect)((()=>{x.current.isInitialized&&d.forEach(((e,t)=>{U({slideIndex:t})}))}),[d,U]);const oe=(0,o.useCallback)((()=>{const{memoCurrSlideIndex:e}=S.current;!x.current.isInitialized&&d[e].imageRef&&(J({isInitial:!0}),x.current.isInitialized=!0)}),[S,d,J]);(0,F.Z)((()=>{const{memoIsMobile:e}=S.current;return e&&document.addEventListener("gesturestart",re.PF),()=>{P.current={isInitial:!0,isDragging:!1,isVerticalDrag:!1,isItemsScroll:!1,canChangeSlide:!1,isMultiWayDrag:!1,canChangeDragType:!0,initialZoomWrapperPosition:{x:0,y:0,scale:0},scrollDirection:{lastDeltaX:0,direction:0},initialItemsScrollX:0},R.current={isInitial:!0,isPinching:!1,limits:{minScale:1,maxScale:5},initialZoomWrapperPosition:{x:0,y:0,scale:0,prevCenterX:0,prevCenterY:0,panDistX:0,panDistY:0}},x.current=V(),document.removeEventListener("gesturestart",re.PF)}}));const ce=(0,o.useCallback)((function(e,t){let{animated:n=!1}=void 0===t?{animated:!1}:t;if(!x.current.isInitialized)return;const{memoIsMobile:r}=S.current;r&&(P.current.isDragging||R.current.isPinching)||(x.current.preventUserActions=!0,x.current.wasResized=!0,J({animated:n}),x.current.preventUserActions=!1)}),[S,J]),ue=(le=ce,de=350,(0,o.useMemo)((()=>W()(le,de)),[le,de]));var le,de;(0,o.useEffect)((()=>(window.addEventListener("resize",ue),()=>{window.removeEventListener("resize",ue)})),[ue]);const pe=ae({stateRef:x,memoRef:S,handleChangePosition:M,dragStateRef:P}),me=function(e,t,n){void 0===n&&(n=!0);const r=(0,o.useRef)(null),i=(0,o.useRef)({skipAnimation:!1}),s=n&&(0,X.kr)();(0,Y.Z)((()=>{s&&history.pushState({isShowingViewer:!0},document.title,location.href)})),(0,_.Z)((()=>{r.current=Z(r.current)}));const a=(0,o.useCallback)((t=>{let{state:n}=t;r.current=Z(r.current),null!=n&&n.isShowingViewer?(r.current=q((()=>e(void 0,i.current))),history.back()):(history.replaceState({isShowingViewer:!1},document.title,location.href),e(void 0,i.current),window.removeEventListener("popstate",a))}),[e]);return(0,o.useEffect)((()=>(s&&window.addEventListener("popstate",a),()=>{window.removeEventListener("popstate",a)})),[s,a]),(0,o.useCallback)((function(n,o){let{skipAnimation:a}=void 0===o?{skipAnimation:!1}:o;t.current.isClosing||(t.current.isClosing=!0,i.current.skipAnimation=a,s&&history.state&&history.state.isShowingViewer?(r.current=q((()=>e(n,i.current))),history.back()):e(n,i.current))}),[s,t,e])}((0,o.useCallback)((function(e,t){let{skipAnimation:n}=void 0===t?{skipAnimation:!1}:t;const{memoHandleClose:r,memoSetIsClosingAnimationStarted:o}=S.current;if(o(!0),pe(!1),n)return r();B({onFinish:()=>{r()}})}),[B,pe,S]),x,S.current.memoShouldUseHistoryClose),{onDragStart:he,onDrag:fe,onDragEnd:ge,finishDrag:ve}=te({onClose:me,backdropRef:i,dragStateRef:P,stateRef:x,setIsShowingUI:N,handleChangePosition:M,runCalcSlowDownAnimation:pe,imagePropertiesRef:A,handleChangeItemsScroll:Q,changeSlide:$,memoRef:S}),{onPinchStart:ye,onPinchChange:be,onPinchEnd:we}=(e=>{let{stateRef:t,handleChangePosition:n,pinchStateRef:r,runCalcSlowDownAnimation:i,imagePropertiesRef:s,upscaleImage:a,bringImageToCenter:c,viewportWrapperRef:u,dragStateRef:l,finishDrag:d,memoRef:p}=e;return{onPinchStart:(0,o.useCallback)((e=>{i(!1);const{memoIsSrcLoaded:n,memoCurrSlideIndex:o,memoSlideInfos:a}=p.current,{isDragging:c,isVerticalDrag:d,isItemsScroll:m}=l.current;if(t.current.preventUserActions||!n||c&&(d||m)||(0,X.Nb)(a[o].mediaData))return;r.current.isPinching=!0;const h=a[o].imageRef;(0,X.ue)({stateRef:t,viewportWrapperRef:u});const{width:f,height:g}=(0,K.j)(h.current),v=s.current[o],{maxScale:y,targetHeight:b,targetWidth:w}=v,S=v.isHorizontal?w/f:b/g;r.current.limits={minScale:S,maxScale:y},r.current.initialZoomWrapperPosition=Object.assign({},t.current.zoomPositions[o],{prevCenterX:e.center.clientX,prevCenterY:e.center.clientY,panDistX:0,panDistY:0})}),[p,l,s,r,i,u,t]),onPinchChange:(0,o.useCallback)((e=>{if(t.current.preventUserActions||!r.current.isPinching)return;const{memoCurrSlideIndex:o,memoSlideInfos:i}=p.current,s=i[o].imageRef;(e=>{let{e:t,stateRef:n,viewedImageRef:r,pinchStateRef:o,handleChangePosition:i}=e;if(!r.current)return;const{scale:s,center:{clientX:a,clientY:c}}=t,{initialZoomWrapperPosition:{x:u,y:l,scale:d,prevCenterX:p,prevCenterY:m},limits:{maxScale:h,minScale:f}}=o.current;s>=1&&(n.current.isScaled=!0);let g=d*s-d,v=d+g,y=1;v>h?(y=(v-h)/(6*v),y>1&&(y=1),v=h+y*v,g=v-d):v<f&&(y=(f-v)/(3*f),y>1&&(y=1),v=f-y*f,g=v-d);const b=p-a,w=m-c;o.current.initialZoomWrapperPosition.panDistX+=b+b*(g/d),o.current.initialZoomWrapperPosition.panDistY+=w+w*(g/d),o.current.initialZoomWrapperPosition.prevCenterX=a,o.current.initialZoomWrapperPosition.prevCenterY=c;const{panDistX:S,panDistY:C}=o.current.initialZoomWrapperPosition;i({x:u-g/d*(a-u)-S,y:l-g/d*(c-l)-C,scale:v})})({e,stateRef:t,pinchStateRef:r,handleChangePosition:n,viewedImageRef:s})}),[n,r,t,p]),onPinchEnd:(0,o.useCallback)((()=>{const{isPinching:e,limits:o}=r.current,{isDragging:i,isVerticalDrag:s,isItemsScroll:u}=l.current,{memoCurrSlideIndex:m,memoSlideInfos:h,memoWithDesktopPaddings:f}=p.current;if(r.current={isInitial:!0,isPinching:!1,limits:{minScale:1,maxScale:5},initialZoomWrapperPosition:{x:0,y:0,scale:0,prevCenterX:0,prevCenterY:0,panDistX:0,panDistY:0}},e){const{scale:e}=t.current.zoomPositions[m],{minScale:r,maxScale:i}=o;(0,ne.NM)(e,1)<=(0,ne.NM)(r,1)?c():(0,X.fp)({maxScale:i,stateRef:t,currItemIndex:m,viewedImageRef:h[m].imageRef,handleChangePosition:n,upscaleImage:a,withDesktopPaddings:f})}i&&d({skipAdjustments:!s&&!u})}),[r,l,t,p,c,n,a,d])}})({stateRef:x,dragStateRef:P,handleChangePosition:M,bringImageToCenter:L,imagePropertiesRef:A,memoRef:S,pinchStateRef:R,runCalcSlowDownAnimation:pe,upscaleImage:ee,viewportWrapperRef:r,finishDrag:ve}),{onOneClick:Se,onDoubleClick:Ce}=ie({changeSlideTo:G,stateRef:x,handleChangePosition:M,bringImageToCenter:L,imagePropertiesRef:A,upscaleImage:ee,setIsShowingUI:N,dragStateRef:P,runCalcSlowDownAnimation:pe,memoRef:S,toggleUiOnClick:y,type:S.current.memoSlideInfos[S.current.memoCurrSlideIndex].mediaData.type});return{initialize:oe,onOneClick:Se,onDoubleClick:Ce,onPinchStart:ye,onPinchChange:be,onPinchEnd:we,onDragStart:he,onDrag:fe,onDragEnd:ge,onClose:me,changeSlideTo:G,stateRef:x}};var ue=n(2108),le=n(569);var de=n(9579),pe=n(3865),me=n(7557),he=n(9129),fe=n(3849),ge=n.n(fe);const ve="image-item__zoomWraper-28",ye="image-item__image-1t",be="image-item__isMobile-E2",we={accents_blue:"rgb(0, 119, 255)",accents_blue_violet:"rgb(80, 54, 230)",accents_green:"rgb(0, 179, 65)",accents_light_green:"rgb(0, 148, 101)",accents_orange:"rgb(255, 83, 23)",accents_pink:"rgb(255, 153, 234)",accents_red:"rgb(255, 51, 51)",accents_trimmer_blue:"rgba(0, 119, 255, 0.4)",accents_trimmer_green:"rgba(0, 179, 65, 0.4)",accents_trimmer_negative:"rgba(255, 51, 51, 0.1)",accents_trimmer_red:"rgba(255, 51, 51, 0.4)",accents_trimmer_yellow:"rgba(255, 204, 0, 0.4)",accents_violet:"rgb(133, 51, 255)",accents_yellow:"rgb(255, 204, 0)",applied_button_regular_bg:"rgba(0, 0, 0, 0.06)",applied_button_regular_media_bg:"rgba(255, 255, 255, 0.24)",applied_chip_button_active:"rgb(255, 221, 204)",applied_highlight:"rgba(0, 119, 255, 0.05)",applied_hover:"rgba(0, 0, 0, 0.05)",applied_image_fill:"rgba(0, 0, 0, 0.06)",applied_link:"rgb(0, 96, 208)",applied_link_hover:"rgb(98, 170, 253)",applied_media_bg:"rgba(0, 0, 0, 0.55)",applied_media_transparent_bar:"rgba(47, 47, 50, 0.95)",applied_overlay:"rgba(0, 0, 0, 0.4)",applied_poll_vote:"rgb(255, 178, 139)",applied_poll_vote_all:"rgb(255, 222, 204)",applied_segment_tab_active:"rgb(255, 255, 255)",applied_separator:"rgba(0, 0, 0, 0.08)",applied_skeleton:"rgb(240, 240, 240)",applied_stroke:"rgba(0, 0, 0, 0.12)",applied_tabbar_active_tab:"rgb(255, 83, 23)",applied_text_background_bar:"rgba(255, 204, 0, 0.16)",background_brand:"rgb(32, 32, 34)",background_inverse:"rgb(0, 0, 0)",background_overflow:"rgb(243, 243, 242)",background_overflow_zen:"rgb(255, 255, 255)",background_primary:"rgb(255, 255, 255)",background_secondary:"rgb(255, 255, 255)",background_tertiary:"rgb(255, 255, 255)",fill_12:"rgba(0, 0, 0, 0.12)",fill_18:"rgba(0, 0, 0, 0.18)",fill_24:"rgba(0, 0, 0, 0.24)",fill_30:"rgba(0, 0, 0, 0.3)",fill_6:"rgba(0, 0, 0, 0.06)",news_accent:"rgb(111, 139, 255)",news_favorite:"rgb(255, 168, 0)",pastel_apricot:"rgb(224, 170, 139)",pastel_apricot_deep:"rgb(184, 131, 95)",pastel_apricot_shallow:"rgb(251, 239, 233)",pastel_coral:"rgb(224, 151, 148)",pastel_coral_deep:"rgb(184, 108, 103)",pastel_coral_shallow:"rgb(252, 238, 238)",pastel_frog:"rgb(114, 204, 147)",pastel_frog_deep:"rgb(77, 148, 104)",pastel_frog_shallow:"rgb(225, 250, 233)",pastel_glacier:"rgb(145, 180, 219)",pastel_glacier_deep:"rgb(91, 124, 163)",pastel_glacier_shallow:"rgb(233, 242, 251)",pastel_lagoon:"rgb(103, 184, 178)",pastel_lagoon_deep:"rgb(69, 133, 129)",pastel_lagoon_shallow:"rgb(225, 250, 246)",pastel_magic:"rgb(178, 142, 209)",pastel_magic_deep:"rgb(139, 97, 173)",pastel_magic_shallow:"rgb(247, 238, 252)",pastel_orchid:"rgb(219, 158, 207)",pastel_orchid_deep:"rgb(163, 104, 144)",pastel_orchid_shallow:"rgb(251, 234, 248)",pastel_shine:"rgb(232, 210, 121)",pastel_shine_deep:"rgb(184, 159, 51)",pastel_shine_shallow:"rgb(250, 244, 224)",pastel_smoke:"rgb(209, 204, 203)",pastel_smoke_deep:"rgb(138, 133, 131)",pastel_smoke_shallow:"rgb(245, 241, 240)",pastel_violet:"rgb(156, 148, 224)",pastel_violet_deep:"rgb(121, 110, 184)",pastel_violet_shallow:"rgb(239, 239, 251)",state_accent_hover:"rgba(255, 83, 23, 0.1)",state_inverse_hover:"rgba(255, 255, 255, 0.12)",state_link_hover:"rgba(0, 119, 255, 0.2)",state_link_tap:"rgba(0, 119, 255, 0.3)",technical_transparent:"rgba(0, 0, 0, 0)",text_and_icons_accent:"rgb(255, 83, 23)",text_and_icons_black:"rgb(0, 0, 0)",text_and_icons_disabled:"rgba(0, 0, 0, 0.25)",text_and_icons_inverse:"rgb(255, 255, 255)",text_and_icons_primary:"rgb(0, 0, 0)",text_and_icons_secondary:"rgba(0, 0, 0, 0.66)",text_and_icons_tertiary:"rgba(0, 0, 0, 0.45)",text_and_icons_white:"rgb(255, 255, 255)",text_and_icons_white_secondary:"rgba(255, 255, 255, 0.65)"},Se=(0,o.forwardRef)(((e,t)=>{let{isSlideImageLoaded:n,origFormat:r,src:o,onSrcLoad:s,isMobile:a,imageRef:c,backgroundColor:u}=e;const l="PNG"===r?{backgroundColor:we.background_secondary}:{backgroundColor:u};return i().createElement("div",{ref:t,className:ge()(ve,{[be]:a})},i().createElement("img",{ref:c,className:ye,onLoad:s(o),src:o,style:n?l:{visibility:"hidden"}}))}));var Ce=n(4328);var Ie=n(8143);const Ee={activeSlideLabel:{ru:"ÐÐºÑÐ¸Ð²Ð½ÑÐ¹ ÑÐ»Ð°Ð¹Ð´"}},_e=((0,Ie.Wh)(Ee),(0,Ie.bN)(Ee)),Oe=(0,le.N)("zen-image-viewer"),ke=(0,o.memo)((e=>{let{mediaItems:t,handleClose:n,onSlideChange:s,onInitializationDone:a,shouldUseHistoryClose:c=!0,startingMediaIndex:u=0,openInFullscreen:l=!1,isMobile:d=!0,isAfterLoadingComponent:p=!1,isParentInFullscreen:m=!1,renderSlideAddon:h}=e;var f,v,y;f=!0,(0,o.useEffect)((()=>{const e=v||window;if(f)return C(e,y),()=>I(e)}),[f,v,y]);const b=(0,k.Z)(),w=(0,Ie.bU)(),{fullscreenElementRef:S,isFullscreen:D,isSupportedFullscreen:R,requestFullscreen:A,exitFullscreen:j}=(0,x.W)(l),N=D||m,M=l&&R,L=(0,o.useCallback)((()=>{M&&N?(0,pe.Y)(j,{cb:n,isMounted:b,timeoutMs:1500}):n()}),[M,N,j,n,b]),[U,B]=(0,o.useState)(!1),[z,H]=(0,o.useState)(!1),F=(0,o.useRef)(!1);(0,o.useEffect)((()=>{!F.current&&U&&(null==a||a(),F.current=!0)}),[U,a]);const[{currMediaIndex:$,currItemIndex:W,itemToMediaIndexes:Y},q]=(0,o.useState)({currMediaIndex:u,currItemIndex:1,itemToMediaIndexes:[u-1,u,u+1]}),Z=t.length,{viewportWrapperRef:G,itemsContainerRef:V,backdropRef:K,uiRef:J}=(0,de.I)(),Q=(e=>{let{mediaItems:t,itemToMediaIndexes:n}=e;const r=(0,o.useRef)(null),i=(0,o.useRef)(null),s=(0,o.useRef)(null),a=(0,o.useRef)(null),c=(0,o.useRef)(null),u=(0,o.useRef)(null),l=(0,o.useRef)(null),d=(0,o.useRef)(null),p=(0,o.useRef)(null),m=(0,o.useCallback)((e=>{const r=n[e];return t[r]?t[r]:{type:oe.D.EMPTY,data:{width:200,height:200,id:`blank-${e}`}}}),[t,n]);return(0,o.useMemo)((()=>[{imageRef:r,zoomRef:a,itemRef:l,mediaData:m(0)},{imageRef:i,zoomRef:c,itemRef:d,mediaData:m(1)},{imageRef:s,zoomRef:u,itemRef:p,mediaData:m(2)}]),[m])})({mediaItems:t,itemToMediaIndexes:Y}),ee=(0,o.useCallback)(((e,t)=>{const n=$+e,r=(0,se.Yc)(W,e),o=t[r],i=(0,se.Yc)(W,-e),s=n+e;q((e=>{const t=[...e.itemToMediaIndexes];return t[i]=s,{currMediaIndex:n,currItemIndex:r,itemToMediaIndexes:t}}));const a=Q[i].itemRef.current;if(a){const e=s<0||s>=Z;a.style.visibility=e?"hidden":""}return{newCurrItemX:o,itemToMoveIndex:i}}),[$,W,Q,Z]),te=t[$],{srcs:ne,onSrcLoad:ie,isSrcLoaded:ae,loadedSrcs:le,currentCaption:fe}=(e=>{var t,n;let{currImage:r,slideInfos:i,isDisabledCaption:s}=e;const a=!r,[c,u]=(0,o.useState)(Object.create(null)),l=!a&&(null==(t=r.data)?void 0:t.src)||"",d=!a&&(null==(n=r.data)?void 0:n.scaleSrc)||"",p=!!c[l]||!!c[d]||a,m=(0,o.useCallback)((e=>()=>{a||e&&!c[e]&&u((t=>{if(t[e])return t;const n=Object.assign({},t);return n[e]=!0,n}))}),[c,a]),h=(0,o.useCallback)((()=>{a||d&&!c[d]&&u((e=>{if(e[d])return e;const t=Object.assign({},e);return t[d]=!0,t}))}),[d,c,a]);(0,Ce.V)({condition:!!d&&!c[d]&&!a,src:d,cb:h});const f=(0,o.useMemo)((()=>i.map((e=>{const{mediaData:t}=e;if(!(0,X.Cx)(t))return"";const{src:n,scaleSrc:r}=t.data;return r&&c[r]?r:n||""}))),[i,c]),g=a||s?void 0:r.data.caption;return{isSrcLoaded:p,loadedSrcs:c,currentCaption:g,srcs:f,onSrcLoad:m}})({currImage:(0,se.cS)(te)?te:void 0,isDisabledCaption:!1,slideInfos:Q}),{initialize:ge,onOneClick:ve,onDoubleClick:ye,onPinchStart:be,onPinchChange:we,onPinchEnd:Ee,onDragStart:ke,onDrag:xe,onDragEnd:Pe,onClose:Te,changeSlideTo:De,stateRef:Re}=ce({isMobile:d,shouldUseHistoryClose:c,initialBackdropOpacity:p?1:0,handleClose:L,slideInfos:Q,currItemIndex:W,viewportWrapperRef:G,backdropRef:K,itemsContainerRef:V,uiRef:J,isSrcLoaded:ae,setIsOpenAnimationDone:B,setIsClosingAnimationStarted:H,getNewSlide:ee,currMediaIndex:$,maxImages:Z,withDesktopPaddings:!d,toggleUiOnClick:d,isUiAlwaysClickable:!d}),Ae=!!(0,P.Z)(N);(0,o.useEffect)((()=>{!Ae||N||z||Te(void 0,{skipAnimation:!0})}),[z,Ae,N,Te]);const je=(0,o.useRef)(!0);(0,o.useEffect)((()=>{je.current&&(M?N||(0,pe.Y)(A,{cb:ge,isMounted:b,timeoutMs:1500}):ge())}),[M,N,A,ge,b]),(0,o.useEffect)((()=>{je.current?je.current=!1:s&&s($)}),[$,s]);const{onSingleClick:Ne,onDoubleClick:Me}=(e=>{let{onSingleClick:t,onDoubleClick:n,options:{clickDelayMs:r=O}={}}=e;const i=(0,o.useRef)(null),s=(0,o.useRef)(!1),a=(0,E.Z)({onSingleClick:t,clickDelayMs:r,onDoubleClick:n});(0,_.Z)((()=>{i.current&&clearTimeout(i.current),i.current=null}));const c=(0,o.useCallback)((e=>{const t=i.current;t||!s.current?(t&&(clearTimeout(t),i.current=null),a.current.onDoubleClick(e)):s.current=!1}),[a]);return{onSingleClick:(0,o.useCallback)((e=>{const t=i.current;if(t)return clearTimeout(t),i.current=null,s.current=!1,c(e),void(s.current=!0);i.current=setTimeout((()=>{i.current=null,null==a.current.onSingleClick||a.current.onSingleClick(e)}),a.current.clickDelayMs)}),[a,c]),onDoubleClick:c}})({onSingleClick:ve,onDoubleClick:d?ye:T.c,options:d?{clickDelayMs:300}:{clickDelayMs:100}}),Le=(0,o.useCallback)((()=>{ke()}),[ke]),Ue=(0,o.useCallback)((e=>{De(e)}),[De]),Be=(0,o.useMemo)((()=>({el:S,onPinchStart:be,onPinchChange:we,onDragStart:Le,onPinchEnd:Ee,onDrag:xe,onDragEnd:Pe,isMouseFallbackAllowed:!0,isVerticalDragAllowed:!0,removeDocumentListenersOnUnmount:!0})),[S,be,we,Le,Ee,xe,Pe]);g(Be);const ze=U&&!z,He=(()=>{const{userAgent:e}=navigator,t=e.match(/AppleWebKit/)&&!e.match(/Chrome/);return Boolean(t)})()&&te.type===oe.D.VIDEO,Fe=!d&&i().createElement("div",{ref:K,onClick:e=>{(0,re.Wg)(e),Re.current.preventUserActions||Te()},className:Oe("backdrop")}),$e=d&&i().createElement("div",{ref:K,className:Oe("backdrop",{isMobile:d})});return i().createElement("div",{ref:S,tabIndex:-1,role:"dialog","aria-hidden":"true",className:Oe({isAfterLoader:p,isMobile:d}),onDragStart:re.PF},$e,i().createElement("div",(0,r.Z)({ref:G,className:Oe("viewport-wrapper"),onClick:Ne},d&&{onDoubleClick:Me}),Fe,i().createElement("div",{ref:V,className:Oe("items",{disableTransformOptimization:He})},Q.map(((e,t)=>{let{zoomRef:n,imageRef:r,itemRef:o,mediaData:s}=e;const{data:a,type:c}=s,u=ne[t],l=!!u,p=l&&le[u],m=(!U||z)&&t!==W,f=t===W?_e.activeSlideLabel(w):void 0;return i().createElement("div",{key:t,ref:o,className:Oe("item"),style:{display:m?"none":void 0},"aria-label":f},c===oe.D.IMAGE||c===oe.D.EMPTY?i().createElement(Se,{ref:n,imageRef:r,src:u,origFormat:s.data.origFormat,onSrcLoad:ie,isSlideImageLoaded:p,isMobile:d,backgroundColor:a.mainColor}):null,null==h?void 0:h({zoomRef:n,imageRef:r,mediaData:s,isMobile:d,isVisible:t===W}),l&&!p&&ze&&i().createElement("div",{className:Oe("loading-indicator")},i().createElement(ue.$,{className:Oe("spinner"),withAnimation:!0})))}))),d?i().createElement(he.T,{rootRef:J,handleClose:Te,currentCaption:fe,isAfterLoader:p}):i().createElement(me.E,{handleClose:Te,changeSlideTo:Ue,rootRef:J,imagesCount:Z,currentIndex:$,currentCaption:fe,isAfterLoader:p})))}))},1270:(e,t,n)=>{"use strict";n.d(t,{rc:()=>s,JT:()=>c});var r=n(6350);let o,i,s,a;!function(e){e.list="list",e.editor="editor",e.settings="settings",e.videoEditor="video_editor",e.briefEditor="brief_editor"}(o||(o={})),function(e){e.enableNativebarInProfile="enable_native_nav_bar_in_profile",e.customPopupNextStart="custom_popup_next_start",e.customNotificationPopup="custom_notification_popup",e.customNotificationPopupExtended="custom_notification_popup_extended",e.disableScrollAfterBack="disable_scroll_after_back",e.pageNativePreload="page_native_preload",e.videoStatistic="video_statistic",e.enableCaruselStories="stories",e.expandedVideoFeed="expanded_video_feed",e.enableEditorWithoutBundle="enable_editor_without_bundle",e.disableNewPublications="disable_new_publications",e.enableActivityScreen="enable_activity_screen",e.callToSubscribeInVideo="call_to_subscribe_in_video",e.enableZenKitXFeed="zenapp_zenkitx_enable"}(i||(i={})),function(e){e.subscribed="subscribed",e.blocked="blocked",e.unsubscribe="unsubscribed"}(s||(s={})),function(e){e.liked="liked",e.disliked="disliked",e.none="none"}(a||(a={}));const c=r.Y8},6230:(e,t,n)=>{"use strict";n.d(t,{vX:()=>i,K:()=>s});n(3311),n(4072);var r=n(994);const o=()=>"undefined"!=typeof window?window:void 0,i=async()=>{const e=o();if(e&&"undefined"!=typeof navigator&&navigator.userAgent.includes("ZenKit/")){if(!e.ZENKIT_LAUNCH_OPTIONS){let t;e.ZENKIT_LAUNCH_OPTIONS=new Promise((e=>{t=e})),e.ZENKIT_LAUNCH_OPTIONS.resolve=t}return e.ZENKIT_LAUNCH_OPTIONS}},s=async()=>{var e,t;const n=o();if(!await i()||!n)return;const s=null==(e=n.ZENKIT)?void 0:e.login;return Object.assign({},n.ZENKIT,{login:s?async()=>{const e=await s();return(null==e?void 0:e.token)&&(0,r.uB)(e.token),e}:null==(t=n.ZENKIT)?void 0:t.login})}},2250:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r={};function o(e,t){r[t.id]||(r[t.id]=!0,e.add(t))}function i(e,t){return{get content(){return o(e,t),t.content},get id(){return o(e,t),t.id},get node(){return o(e,t),t.node},get viewBox(){return o(e,t),t.viewBox}}}},8156:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const i=new Uint8Array(16);function s(){if(!o&&(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}const a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));function c(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}const u=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();const o=(e=e||{}).random||(e.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=o[e];return t}return c(o)}},7363:e=>{"use strict";e.exports=React},1533:e=>{"use strict";e.exports=ReactDOM},4642:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},3949:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,{Z:()=>r})}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=o,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>"comments-no-react-"+{688:"login-modal",743:"passport-profile-modal",826:"index",833:"restrictions-modal",959:"emoji-picker"}[e]+".modern.ru.bundle.js",s.miniCssF=e=>"comments-no-react-"+{688:"login-modal",743:"passport-profile-modal",826:"index",833:"restrictions-modal",959:"emoji-picker"}[e]+".modern.css",s.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="llf0rs4a_i0erp7unt1o:",s.l=(n,r,o,i)=>{if(e[n])e[n].push(r);else{var a,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",t+o),a.src=n),e[n]=[r];var p=(t,r)=>{a.onerror=a.onload=null,clearTimeout(m);var o=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(r))),t)return t(r)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),c&&document.head.appendChild(a)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="//s3.dzeninfra.ru/zen-lib/1.24.0/comments/",n=e=>new Promise(((t,n)=>{var r=s.miniCssF(e),o=s.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(s=n[r]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(o===e||o===t))return s}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var s;if((o=(s=i[r]).getAttribute("data-href"))===e||o===t)return s}})(r,o))return t();((e,t,n,r)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=i=>{if(o.onerror=o.onload=null,"load"===i.type)n();else{var s=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=a,o.parentNode.removeChild(o),r(c)}},o.href=t,document.head.appendChild(o)})(e,o,t,n)})),r={692:0},s.f.miniCss=(e,t)=>{r[e]?t.push(r[e]):0!==r[e]&&{688:1,743:1,826:1,833:1,959:1}[e]&&t.push(r[e]=n(e).then((()=>{r[e]=0}),(t=>{throw delete r[e],t})))},(()=>{var e={692:0};s.f.j=(t,n)=>{var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=s.p+s.u(t),a=new Error;s.l(i,(n=>{if(s.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[i,a,c]=n,u=0;if(i.some((t=>0!==e[t]))){for(r in a)s.o(a,r)&&(s.m[r]=a[r]);if(c)c(s)}for(t&&t(n);u<i.length;u++)o=i[u],s.o(e,o)&&e[o]&&e[o][0](),e[i[u]]=0},n=self.webpackChunkllf0rs4a_i0erp7unt1o=self.webpackChunkllf0rs4a_i0erp7unt1o||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),s(8374);s(589)})();